"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[820],{10554:function(e,n,t){var r=t(90675),o=t(10467),i=t(79722).A.create();i.interceptors.response.use(function(){var e=(0,o.A)((0,r.A)().mark((function e(n){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),n.A=i},53747:function(e,n,t){t.d(n,{ZU:function(){return p},bK:function(){return d},tJ:function(){return u},uS:function(){return f}});var r=t(90675),o=t(5544),i=t(10467),s=t(79722),a=t(65043),l=t(42104),c=t(97665),u=c.z.object({name:c.z.string().min(2,"Name must be at least 2 characters").max(50,"Name must be at most 50 characters"),otherName:c.z.string().min(2,"Other name must be at least 2 characters").max(50,"Other name must be at most 50 characters"),email:c.z.string().email("Invalid email address"),gender:c.z.enum(["male","female","other"]),password:c.z.string().min(4,"Password must be at least 8 characters long").max(100,"Password must be at most 100 characters"),confirmPassword:c.z.string().min(4,"Confirm password must be at least 8 characters long").max(100,"Confirm password must be at most 100 characters").refine((function(e,n){return e===n.parent.password}),{message:"Passwords do not match"}),passport:c.z.string().regex(/^\d{8,15}$/,"Invalid passport/ID number"),selectedCountry:c.z.string().min(2,"Country is required"),provinces:c.z.string().optional(),language:c.z.string().min(2,"Language is required"),pic:c.z.string().url("Profile picture is required")});function d(e){var n=(0,a.useState)(null),t=(0,o.A)(n,2),r=t[0],i=t[1],s=(0,a.useRef)(null);return(0,a.useEffect)((function(){if(e&&e.token){if(!s.current){var n=e._id,t=(0,l.io)("/",{query:{token:e.token,userId:n}});return t.on("connect",(function(){console.log("connected"),i(t)})),t.on("disconnect",(function(e){console.log("Socket.IO disconnected due to:",e),"io server disconnect"===e&&t.connect()})),t.on("reconnect_attempt",(function(e){console.log("Reconnection attempt ".concat(e))})),t.on("error",(function(e){console.error("Socket.IO error:",e)})),s.current=t,function(){t&&t.disconnect(),s.current=null}}i(s.current)}}),[e]),r}function p(e,n,t,r){return h.apply(this,arguments)}function h(){return(h=(0,i.A)((0,r.A)().mark((function e(n,t,o,i){var a,l;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}},e.next=6,s.A.post("/api/paycheck/makepaymentmpesa/".concat(o._id,"?amount=").concat(n),{phoneNumber:t},a);case 6:l=e.sent,l.data&&i({title:"You have been prompt to finish your subscription process",status:"info",duration:1e3,position:"bottom"}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function f(e,n,t){return x.apply(this,arguments)}function x(){return(x=(0,i.A)((0,r.A)().mark((function e(n,t,o){var i,a;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,i={headers:{"Content-type":"application/json"}},e.next=6,s.A.post("/api/paycheck/donationsmpesa?amount=".concat(n),{phoneNumber:t},i);case 6:a=e.sent,a.data&&o({title:"You have been prompt to finish your subscription process",status:"info",duration:1e3,position:"bottom"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}},20200:function(e,n){n.A=function(e){var n=new Date(e),t=new Date-n,r=Math.floor(t/1e3),o=Math.floor(r/60),i=Math.floor(o/60),s=Math.floor(i/24);if(r<60)return"Just now";if(o<60)return"".concat(o," minute").concat(1===o?"":"s"," ago");if(i<24)return"".concat(i," hour").concat(1===i?"":"s"," ago");if(1===s)return"Yesterday";if(s<7)return"".concat(s," day").concat(1===s?"":"s"," ago");return n.toLocaleDateString("en-US",{hour:"numeric",minute:"numeric",month:"long",day:"numeric",year:"numeric"})}},74533:function(e,n,t){t(65043);var r=t(30502),o=t(73225),i=t(76668),s=t(35699),a=t(70579);n.A=function(e){var n=e.setPicLoading,t=e.color,l=e.setPic,c=(0,r.d)();return(0,a.jsxs)(o.MJ,{id:"pic",children:[(0,a.jsx)(i.l,{textColor:t,fontSize:"small",children:"Upload your Passport Photo"}),(0,a.jsx)(s.p,{type:"file",p:1.5,textColor:t,fontSize:"small",placeholder:"Select a passport photo",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(n(!0),t)if("image/jpeg"===t.type||"image/png"===t.type){var r=new FormData;r.append("file",t),r.append("upload_preset","WorldSamma"),fetch("https://api.cloudinary.com/v1_1/dsdlgmgwi/image/upload",{method:"post",body:r}).then((function(e){return e.json()})).then((function(e){l(e.url.toString()),n(!1)})).catch((function(e){n(!1)}))}else n(!1),c({title:"Invalid file type",status:"warning"});else n(!1)}})]})}},33021:function(e,n,t){t.d(n,{A:function(){return V}});var r=t(5544),o=t(38028),i=t(96870),s=t(85522),a=t(3952),l=t(18876),c=t(20972),u=t(87139),d=t(42703),p=t(15707),h=t(98151),f=t(67918),x=t(71847),m=t(85156),g=t(18842),b=t(50927),v=t(52793),j=t(14929),w=t(11300),y=t(49342),A=t(42369),C=t(49788),k=t(73216),S=t(56818),E=t(90675),z=t(10467),_=t(29301),I=t(39081),R=t(73203),D=t(11054),P=t(76524),M=t(15071),N=t(35929),$=t(67516),W=t(22107),F=t(76659),q=t(56529),O=t(65043),J=t(79722),B=t(47196),L=t(70579),U=function(){var e=(0,i.j)(),n=e.isOpen,t=e.onOpen,o=e.onClose,s=(0,O.useState)([]),a=(0,r.A)(s,2),l=a[0],c=a[1],u=(0,O.useState)(!1),d=(0,r.A)(u,2),p=d[0],h=d[1],f=(0,S.a)().user,x=(0,k.Zp)(),m=(0,O.useCallback)((0,z.A)((0,E.A)().mark((function e(){var n,t,r;return(0,E.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=6,J.A.get("/api/clubs/github/something/".concat(f._id),n);case 6:t=e.sent,r=t.data,c(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error fetching club requests:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),[f]);(0,O.useEffect)((function(){f&&m()}),[f,m]);var g=function(){var e=(0,z.A)((0,E.A)().mark((function e(n){var t,r,o;return(0,E.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&n){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,t={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=7,J.A.get("/api/clubs/decline/request/".concat(n,"/").concat(f._id),t);case 7:r=e.sent,o=r.data,c(o),h(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),h(!1),console.error("Error fetching club requests/decline:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(_.$,{backgroundColor:"white",_hover:{backgroundColor:"transparent"},onClick:t,border:"none",children:[(0,L.jsx)(B.TKI,{fontSize:"20px",border:"none"}),l&&l.length>0&&(0,L.jsx)(I.E,{position:"absolute",bottom:"70%",right:"70%",transform:"translate(50%, 0)",bg:"red.500",borderRadius:"50%",width:"2px",height:"2px",p:1.5}),(0,L.jsx)(I.E,{})]}),(0,L.jsxs)(R.aF,{isOpen:n,onClose:o,isCentered:!0,size:"sm",children:[(0,L.jsx)(D.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,L.jsxs)(P.$,{children:[(0,L.jsx)(M.r,{textAlign:"center",children:"Clubs Requests"}),(0,L.jsx)(N.s,{border:"none"}),(0,L.jsx)($.c,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",maxH:"300px",children:l&&l.length>0?l.map((function(e,n){return(0,L.jsxs)(W.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,L.jsxs)(_.$,{justifyContent:"space-between",onClick:function(){return x("/showclub/".concat(e._id))},border:"none",children:[n+1,". Club Name: ",e.name]},e._id),(0,L.jsx)(_.$,{background:"#f05e56",onClick:function(){return g(e._id)},border:"none",children:p?(0,L.jsx)(F.y,{size:"small"}):"Decline"})]},n)})):(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(I.E,{children:"All club requests have been replied to."})})}),(0,L.jsx)(q.j,{fontSize:"small",textDecor:"underline",children:"These requests were made by club coaches."})]})]})]})},Y=t(32212),H=t(83002),Z=t(10202),T=t(96148),K=t(50464),Q=function(e){var n=e.isOpen,t=e.onClose,o=(0,O.useState)(""),i=(0,r.A)(o,2),s=i[0],a=i[1],l=(0,O.useState)(""),c=(0,r.A)(l,2),u=c[0],d=c[1],p=(0,k.Zp)();return(0,L.jsxs)(R.aF,{isOpen:n,onClose:t,isCentered:!0,children:[(0,L.jsx)(D.m,{}),(0,L.jsxs)(P.$,{children:[(0,L.jsx)(M.r,{textAlign:"center",children:"Admin Access Verification"}),(0,L.jsx)(N.s,{}),(0,L.jsx)($.c,{children:(0,L.jsxs)(Z.T,{spacing:4,align:"center",children:[(0,L.jsx)(I.E,{children:"To access the admin page, please enter the passkey."}),(0,L.jsx)(T.z,{children:(0,L.jsxs)(K.c,{value:s,onChange:function(e){a(e),d("")},type:"number",autoFocus:!0,children:[(0,L.jsx)(K.M,{}),(0,L.jsx)(K.M,{}),(0,L.jsx)(K.M,{}),(0,L.jsx)(K.M,{}),(0,L.jsx)(K.M,{}),(0,L.jsx)(K.M,{})]})}),u&&(0,L.jsx)(I.E,{color:"red.500",children:u})]})}),(0,L.jsx)(q.j,{children:(0,L.jsx)(_.$,{colorScheme:"blue",onClick:function(){"165432"===s?(p("/admin"),t()):d("Invalid passkey. Please try again.")},width:"full",children:"Enter Admin Passkey"})})]})]})},G=t(6720);var V=function(){var e=(0,S.a)(),n=e.user,t=e.notification,E=e.setNotification,z=(0,i.j)(),_=z.isOpen,I=z.onOpen,R=z.onClose,D=(0,k.Zp)(),P=(0,O.useState)(!1),M=(0,r.A)(P,2),N=M[0],$=M[1],W=(0,l.A)({base:"none",md:"flex"}),F=(0,l.A)({base:"hidden",md:"visible"});return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(s.az,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:3,paddingBottom:2,boxShadow:"2xl",zIndex:10,top:0,position:"fixed",children:[(0,L.jsx)(c._,{src:Y,height:12}),(0,L.jsxs)(s.az,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,L.jsx)(o.$,{backgroundColor:"transparent",border:"none",display:W,visibility:F,_hover:{backgroundColor:"transparent",color:"green.400"},onClick:function(){D("/dashboard")},children:"My Programs"}),(0,L.jsx)(o.$,{variant:"ghost",display:{base:"none",md:"flex"},border:"none",onClick:I,_hover:{backgroundColor:"transparent",color:"green.400"},children:(0,L.jsx)(a.E,{px:4,userSelect:"none",children:"Discover"})}),(0,L.jsx)(U,{})]}),(0,L.jsxs)("div",{children:[(0,L.jsxs)(h.W,{children:[(0,L.jsxs)(f.I,{p:1,position:"relative",border:"none",children:[(0,L.jsx)(A.X,{fontSize:"2xl",p:0,m:0}),t.length>0&&(0,L.jsx)(u.E,{variant:"subtle",position:"absolute",top:"-3px",right:"-3px",backgroundColor:"red",zIndex:1,borderRadius:"50%",color:"white",children:t.length})]}),(0,L.jsxs)(x.c,{pl:2,children:[!t.length&&"No New Messages",t.map((function(e){return(0,L.jsx)(m.D,{onClick:function(){E(t.filter((function(n){return n!==e})))},p:"4",children:"New message from ".concat(e.sender?e.sender.name:"Coach"," ADM: ").concat(e.sender?e.sender.admission:" ")},e._id)}))]})]}),(0,L.jsx)(h.W,{children:(0,L.jsx)(f.I,{as:o.$,bg:"white",border:"none",_hover:{backgroundColor:"transparent"},onClick:I,children:"flex"===W?(0,L.jsx)(C.e,{size:"sm",cursor:"pointer",name:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.pic}):(0,L.jsx)(d.K,{backgroundColor:"transparent",border:"none",icon:(0,L.jsx)(y.twg,{})})})})]})]}),(0,L.jsx)(Q,{isOpen:N,onClose:function(){return $(!1)}}),(0,L.jsxs)(g._,{placement:"left",onClose:R,isOpen:_,children:[(0,L.jsx)(b.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,L.jsxs)(v.z,{children:[(0,L.jsxs)(j.r,{borderBottomWidth:"1px",display:"flex",justifyContent:"space-between",children:["Dashboard",(0,L.jsx)(p.J,{onClick:R,border:"none"})]}),(0,L.jsxs)(w.c,{display:"flex",flexDir:"column",justifyContent:"start",width:"100%",padding:3,children:[(0,L.jsxs)(o.$,{display:"flex",justifyContent:"left",alignItems:"center",border:"none",fontSize:"medium",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:function(){return D("/profile")},children:[(0,L.jsx)(C.e,{size:"sm",cursor:"pointer",name:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.pic}),(0,L.jsx)(a.E,{p:2,m:1,children:"Profile"})]}),(0,L.jsx)(o.$,{justifyContent:"left",border:"none",background:"white",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){D("/dashboard"),R()},children:"My Programs"}),(0,L.jsx)(o.$,{justifyContent:"start",background:"white",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){D("/clubs"),R()},children:"Clubs"}),(0,L.jsx)(o.$,{justifyContent:"left",background:"white",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},isDisabled:!(null!==n&&void 0!==n&&n.provinces),onClick:function(){D("/province"),R()},children:"Provincial level"}),(0,L.jsx)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){D("/national"),R()},children:"National level"}),(0,L.jsx)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){D("/championships"),R()},children:"International Championship"}),(0,L.jsxs)(o.$,{background:"white",justifyContent:"left",border:"none",isDisabled:!0,_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){D("/stream"),R()},children:[(0,L.jsx)(G.Md6,{})," \xa0 Streams"]}),(0,L.jsxs)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){$(!0),R()},children:[(0,L.jsx)(B.P3Y,{})," \xa0 Admin"]}),(0,L.jsxs)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){localStorage.removeItem("userInfo"),E([]),D("/")},children:[(0,L.jsx)(H.TMk,{})," \xa0 Sign out"]})]})]})]})]})}},62820:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var r=t(89379),o=t(90675),i=t(10467),s=t(5544),a=t(65043),l=t(73216),c=t(30502),u=t(22107),d=t(20972),p=t(28846),h=t(39081),f=t(29301),x=t(29904),m=t(99032),g=t(44093),b=t(35699),v=t(19077),j=t(76668),w=t(51044),y=t(1041),A=t(82459),C=t(33021),k=t(10554),S=t(79722),E=t(49788),z=t(85522),_=t(3952),I=t(70579),R=function(e){var n=e.handleFunction,t=e.user;return(0,I.jsxs)(z.az,{onClick:n,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#38B2AC",color:"white"},width:"100%",display:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg",children:[(0,I.jsx)(E.e,{mr:2,size:"sm",cursor:"pointer",name:t.name,src:t.pic}),(0,I.jsxs)(z.az,{children:[(0,I.jsx)(_.E,{children:t.name}),(0,I.jsxs)(_.E,{fontSize:"xs",children:[(0,I.jsx)("b",{children:"Email : "}),t.email]})]})]})},D=t(30059),P=t(64467),M=t(73225),N=t(61724),$=t(45973),W=t(29244),F=t(66686),q=t(26550),O=t(39261),J=t(61191),B=t(20200),L=t(53747),U=t(56818),Y=t(74533),H=function(){var e=(0,a.useState)({name:"",otherName:"",id:"",phoneNumber:"",email:"",selectedCountry:"",provinces:"",language:"",password:"",confirmpassword:"",gender:""}),n=(0,s.A)(e,2),t=n[0],l=n[1],p=(0,a.useState)(!1),m=(0,s.A)(p,2),v=m[0],w=m[1],y=(0,a.useState)(!1),C=(0,s.A)(y,2),k=C[0],S=C[1],E=(0,a.useState)([]),z=(0,s.A)(E,2),_=z[0],R=z[1],H=(0,a.useState)(null),Z=(0,s.A)(H,2),T=Z[0],K=Z[1],Q=(0,a.useState)(""),G=(0,s.A)(Q,2),V=G[0],X=G[1],ee=(0,a.useState)(""),ne=(0,s.A)(ee,2),te=ne[0],re=ne[1],oe=(0,U.a)().user,ie=(0,a.useState)(!1),se=(0,s.A)(ie,2),ae=se[0],le=se[1],ce=(0,c.d)(),ue=(0,L.bK)(null===oe||void 0===oe?void 0:oe.token),de=function(){return S(!k)},pe=function(e){if(console.log("Event:",e),e&&e.target){var n=e.target,t=n.name,o=n.value;if(l((function(e){return(0,r.A)((0,r.A)({},e),{},(0,P.A)({},t,o))})),"selectedCountry"===t){var i=(0,O.e)(o);R(i)}}else console.log("Event or target is undefined.")},he=function(){var e=(0,i.A)((0,o.A)().mark((function e(n){var i,s,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(oe.token)}},e.next=5,axios.post("/api/user/admission",(0,r.A)((0,r.A)({},t),{},{pic:te}),i);case 5:s=e.sent,a=s.data,K(a),l({name:"",otherName:"",id:"",phoneNumber:"",email:"",selectedCountry:"",provinces:"",language:"",password:"",confirmpassword:"",gender:""}),re(""),w(!1),R([]),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0),ce({title:"Error occurred!",description:e.t0.response.data.message||"Something went wrong.",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}(),fe=Object.entries(J.Xr).map((function(e){var n=(0,s.A)(e,2),t=(n[0],n[1]);return{value:t.name,label:t.name}})),xe=Object.keys(J.eo).map((function(e){return{code:e,name:J.eo[e].name}}));(0,a.useEffect)((function(){if(t.selectedCountry){var e=function(){var e=(0,i.A)((0,o.A)().mark((function e(){var n;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,O.e)(t.selectedCountry),R(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t.selectedCountry]),(0,a.useEffect)((function(){if(ue){var e=function(){var e=(0,i.A)((0,o.A)().mark((function e(){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ue.on("manualRegister",e),function(){ue.off("manualRegister",e)}}}),[ue]);return(0,I.jsxs)(I.Fragment,{children:[!v&&(0,I.jsx)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:{base:"100%",md:"80%"},boxShadow:"base",p:"4",rounded:"md",bg:"white",children:(0,I.jsxs)("form",{style:{width:"100%"},children:[(0,I.jsx)(h.E,{fontSize:"sm",fontWeight:500,bg:(0,g.dU)("green.50","green.900"),px:6,p:"3",m:1,color:"green.500",rounded:"full",children:"Register Students Manually"}),T&&(0,I.jsxs)(h.E,{textAlign:"center",children:["\u26a0\ufe0fStudent Code: ",null===T||void 0===T?void 0:T.admission,", Name: ",null===T||void 0===T?void 0:T.name,", createdAt: ",(0,B.A)(null===T||void 0===T?void 0:T.createdAt)," "]}),(0,I.jsxs)(M.MJ,{id:"name",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"First Name "}),(0,I.jsx)(b.p,{type:"text",name:"name",placeholder:"Student's first name",value:t.name,onChange:pe})]}),(0,I.jsxs)(M.MJ,{id:"otherName",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"Last Name "}),(0,I.jsx)(b.p,{type:"text",name:"otherName",placeholder:"Student's last name",value:t.otherName,onChange:pe})]}),(0,I.jsxs)(M.MJ,{id:"country",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"Country"}),(0,I.jsx)(N.l,{placeholder:"Select your country",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",value:t.selectedCountry,onChange:function(e){return l((0,r.A)((0,r.A)({},t),{},{selectedCountry:e.target.value}))},children:fe.map((function(e){return(0,I.jsx)("option",{value:e.value,style:{color:"black"},children:e.label},e.value)}))})]}),t.selectedCountry&&_.length>0?(0,I.jsxs)(M.MJ,{id:"provinces",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"County/Province"}),(0,I.jsx)(N.l,{placeholder:"Select your province",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",value:t.provinces,onChange:function(e){return l((0,r.A)((0,r.A)({},t),{},{provinces:e.target.value}))},children:_&&_.map((function(e){return(0,I.jsx)("option",{value:e.value,style:{color:"black"},children:e.name},e.value)}))})]}):(0,I.jsxs)(M.MJ,{id:"province",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"County/Province/state"}),(0,I.jsx)(b.p,{type:"text",placeholder:"Province",value:t.provinces,onChange:function(e){return l((0,r.A)((0,r.A)({},t),{},{provinces:e.target.value}))}})]}),(0,I.jsxs)(M.MJ,{id:"language",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"Language"}),(0,I.jsx)(N.l,{placeholder:"Select language",textColor:"grey",value:t.language,onChange:function(e){return l((0,r.A)((0,r.A)({},t),{},{language:e.target.value}))},children:xe.map((function(e){return(0,I.jsx)("option",{value:e.code,children:e.name},e.code)}))})]}),(0,I.jsxs)(M.MJ,{id:"id",children:[(0,I.jsx)(j.l,{children:"ID"}),(0,I.jsx)(b.p,{type:"text",name:"id",placeholder:"Student's ID (optional)",value:t.id,onChange:pe})]}),(0,I.jsxs)(M.MJ,{id:"phoneNumber",children:[(0,I.jsx)(j.l,{children:"Phone Number"}),(0,I.jsx)(b.p,{type:"number",name:"phoneNumber",placeholder:"Student's phone number (optional)",value:t.phoneNumber,onChange:pe})]}),(0,I.jsxs)(M.MJ,{id:"email",children:[(0,I.jsx)(j.l,{children:"Email"}),(0,I.jsx)(b.p,{type:"email",name:"email",placeholder:"Student's email address (optional)",value:t.email,onChange:pe})]}),(0,I.jsxs)(M.MJ,{id:"password",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"Password"}),(0,I.jsxs)($.M,{size:"md",children:[(0,I.jsx)(b.p,{type:k?"text":"password",placeholder:"Enter Password",value:t.password,onChange:function(e){return l((0,r.A)((0,r.A)({},t),{},{password:e.target.value}))}}),(0,I.jsx)(W.t,{width:"4.5rem",children:(0,I.jsx)(f.$,{h:"1.75rem",size:"sm",onClick:de,children:k?"Hide":"Show"})})]})]}),(0,I.jsxs)(M.MJ,{id:"confirmPassword",isRequired:!0,children:[(0,I.jsx)(j.l,{children:"Confirm Password"}),(0,I.jsxs)($.M,{size:"md",children:[(0,I.jsx)(b.p,{type:k?"text":"password",placeholder:"Confirm password",value:t.confirmpassword,onChange:function(e){return l((0,r.A)((0,r.A)({},t),{},{confirmpassword:e.target.value}))}}),(0,I.jsx)(W.t,{width:"4.5rem",children:(0,I.jsx)(f.$,{h:"1.75rem",size:"sm",onClick:de,children:k?"Hide":"Show"})})]})]}),(0,I.jsx)(F.z,{value:t.gender,onChange:function(e){return l((0,r.A)((0,r.A)({},t),{},{gender:e}))},isRequired:!0,children:(0,I.jsxs)(x.B,{direction:"row",children:[(0,I.jsx)(q.s,{value:"male",children:"Male"}),(0,I.jsx)(q.s,{value:"female",children:"Female"})]})}),(0,I.jsx)(Y.A,{setPic:re,setPicLoading:le,color:"black"}),(0,I.jsx)(f.$,{onClick:function(){return function(){var e=t.name,n=t.otherName,r=t.selectedCountry,o=t.provinces,i=t.language,s=t.password,a=t.confirmpassword,l=t.gender;e&&n&&r&&o&&i&&s&&a&&l&&te?s===a?w(!0):ce({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}):ce({title:"Please fill all the required fields.",status:"warning"})}()},mt:4,colorScheme:"teal",isDisabled:!t.name||!t.otherName||ae,isLoading:ae,children:"Submit"})]})}),v&&(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:"100%",boxShadow:"base",p:"6",rounded:"md",bg:"white",children:[" ",(0,I.jsx)(D.ag,{options:{clientId:"AZ5Pdn0aioG6OzW6n4Q7W64LxkdOhS0wEIOAn_UmF5askK41E72ejdrsHPJoFIcg0atbN-WZG14fd6oc"},children:(0,I.jsx)(D.JV,{createOrder:function(e,n){return n.order.create({purchase_units:[{amount:{currency_code:"USD",value:4..toFixed(2)}}]})},onApprove:function(){var e=(0,i.A)((0,o.A)().mark((function e(n,t){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:return e.abrupt("return",t.order.capture().then((function(e){w(!1),ce({title:"Success",status:"success",duration:3e3,isClosable:!0,position:"bottom"})})));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onCancel:function(){w(!1),ce({title:"Cancelled",status:"info",isClosable:!0,position:"bottom"})}})}),(0,I.jsxs)(f.$,{fontSize:"small",width:{base:"80%",md:"25%"},backgroundColor:"green.400",color:"white",onClick:function(){S(!0)},p:0,children:[(0,I.jsx)(d._,{height:5,width:"auto",src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1694007922/mpesa_ppfs6p.png",alt:"",loading:"lazy"})," ","Pay via Mpesa"]}),k&&(0,I.jsxs)(u.a,{m:3,width:{base:"80%",md:"50%"},children:[(0,I.jsx)(b.p,{fontSize:"small",color:"green.400",fontWeight:"bold",placeholder:"Enter Your Mpesa Phone Number",textAlign:"center",type:"text",onChange:function(e){return X(e.target.value)},value:V,minLength:10,maxLength:10}),(0,I.jsx)(A.c,{p:2}),(0,I.jsx)(f.$,{width:"100%",onClick:function(){(0,L.ZU)("500",V,oe,ce),S(!1),ce({title:"Wait as message is sent",status:"loading",isClosable:!0,position:"bottom",duration:5e3})},isDisabled:V.length!==parseInt(10),colorScheme:"green",children:"Proceed"}),(0,I.jsx)(h.E,{textAlign:"center",justifyContent:"center",children:"You'll be sent a Message"})]})]})]})},Z=t(66833),T=t(60184),K=function(e){var n,t,E=e.user,z=(0,l.Zp)(),_=(0,a.useState)(),P=(0,s.A)(_,2),M=P[0],N=P[1],$=(0,c.d)(),W=(0,a.useState)(!1),F=(0,s.A)(W,2),q=F[0],O=F[1],J=(0,a.useState)(""),B=(0,s.A)(J,2),U=B[0],Y=B[1],K=(0,a.useState)(!1),Q=(0,s.A)(K,2),G=Q[0],V=Q[1],X=(0,a.useState)([]),ee=(0,s.A)(X,2),ne=ee[0],te=ee[1],re=(0,a.useState)(null),oe=(0,s.A)(re,2),ie=oe[0],se=oe[1],ae=(0,a.useState)(!1),le=(0,s.A)(ae,2),ce=le[0],ue=le[1],de=(0,a.useState)(!1),pe=(0,s.A)(de,2),he=pe[0],fe=pe[1],xe=(0,a.useState)(""),me=(0,s.A)(xe,2),ge=me[0],be=me[1],ve=(0,a.useState)(!1),je=(0,s.A)(ve,2),we=je[0],ye=je[1],Ae=(0,a.useState)(""),Ce=(0,s.A)(Ae,2),ke=Ce[0],Se=Ce[1],Ee=(0,a.useState)(""),ze=(0,s.A)(Ee,2),_e=ze[0],Ie=ze[1],Re=(0,a.useState)(!1),De=(0,s.A)(Re,2),Pe=De[0],Me=De[1],Ne=(0,a.useState)(null),$e=(0,s.A)(Ne,2),We=$e[0],Fe=$e[1],qe=(0,a.useState)(""),Oe=(0,s.A)(qe,2),Je=Oe[0],Be=Oe[1],Le=(0,L.bK)(E),Ue=(0,a.useState)(!1),Ye=(0,s.A)(Ue,2),He=Ye[0],Ze=Ye[1];(0,a.useEffect)((function(){Le&&(Ze(Le.connected),Le.on("connect",(function(){Ze(!0)})),Le.on("disconnect",(function(){Ze(!1)})))}),[Le]),(0,a.useEffect)((function(){if(He)return Le.on("Upgrade",(0,i.A)((0,o.A)().mark((function e(){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:$({title:"Submitting details!",status:"loading",duration:5e3,position:"bottom"});case 3:case"end":return e.stop()}}),e)})))),function(){Le.off("Upgrade")}}));var Te=(0,a.useCallback)((0,i.A)((0,o.A)().mark((function e(){var n,t;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.coach){e.next=2;break}return e.abrupt("return");case 2:V(!0);try{n=E.coach,t={headers:{Authorization:"Bearer ".concat(E.token)}},k.A.get("/api/clubs/".concat(n),t).then(function(){var e=(0,i.A)((0,o.A)().mark((function e(n){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(n.data),V(!1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){V(!1),e.response&&401===e.response.status&&($({title:"Your session has expired",description:"Logging out in less than 8 seconds",duration:8e3,status:"loading",position:"bottom"}),setTimeout((function(){localStorage.removeItem("userInfo"),z("/")}),8e3))}))}catch(r){console.error("Error fetching Club:",r),V(!1)}case 4:case"end":return e.stop()}}),e)}))),[null===E||void 0===E?void 0:E.token,N,V]);(0,a.useEffect)((function(){E?Te():z("/dashboard")}),[E,z]);var Ke=function(){var e=(0,i.A)((0,o.A)().mark((function e(n,t){var i,s,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={headers:{Authorization:"Bearer ".concat(E.token)}},e.next=4,S.A.get("/api/province/accept/decline/".concat(n,"?accept=").concat(t),i);case 4:s=e.sent,a=s.data,setUser((function(e){return(0,r.A)((0,r.A)({},e),{},{provinceRequests:a.provinceRequests})})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),$({title:"Error Occurred!",description:"Try again after sometime.",status:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,t){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,i.A)((0,o.A)().mark((function e(n,t){var i,s,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,i={headers:{Authorization:"Bearer ".concat(E.token)}},e.next=6,S.A.get("/api/national/accept/decline/".concat(n,"?accept=").concat(t),i);case 6:s=e.sent,a=s.data,setUser((function(e){return(0,r.A)((0,r.A)({},e),{},{nationalRequests:a.nationalRequests})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),$({title:"Error Occurred!",description:"Try again after sometime.",status:"error"});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n,t){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,i.A)((0,o.A)().mark((function e(){var n,t,r;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue(!1),U){e.next=4;break}return $({title:"Please enter something in search",status:"warning",duration:5e3,isClosable:!0,position:"top-left"}),e.abrupt("return");case 4:return e.prev=4,V(!0),n={headers:{Authorization:"Bearer ".concat(E.token)}},e.next=9,S.A.get("/api/user?search=".concat(U),n);case 9:t=e.sent,r=t.data,V(!1),te(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),V(!1),$({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(){return e.apply(this,arguments)}}(),Ve=(0,a.useCallback)(function(){var e=(0,i.A)((0,o.A)().mark((function e(n){var t;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(E.token)}},e.next=6,S.A.post("/api/submit/".concat(E._id,"?studentId=").concat(n),{savePhoto:ke,details:_e},t);case 6:$({title:"Submission successful!",description:"Wait for your results under 24hrs",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),$({title:"Error occurred trying to send your work!",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),[$,E,ke,_e]);(0,a.useEffect)((function(){(ke||Je)&&Ve(Je)}),[ke,Je]);var Xe=function(){if(We){Me(!0);var e=new FormData;e.append("file",We),e.append("upload_preset","worldsamma"),fetch("https://api.cloudinary.com/v1_1/dsdlgmgwi/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){Se(e.url),Me(!1)})).catch((function(e){Me(!1),$({title:"Error Occurred uploading your passport photo.",description:"Please try again later.",duration:5e3,status:"error"})}))}};return(0,I.jsxs)(u.a,{display:"flex",width:"100%",minH:"100vh",justifyContent:"start",flexDir:"column",overflow:"auto",alignItems:"center",bg:"whitesmoke",children:[(0,I.jsx)(C.A,{}),(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",width:{base:"100%",md:"80%"},bg:"whitesmoke",mt:20,fontFamily:"Arial, sans-serif",overflow:"auto",children:[(0,I.jsxs)(u.a,{display:"flex",flexWrap:"wrap",textAlign:"start",boxShadow:"base",width:"100%",p:"2",rounded:"md",bg:"whitesmoke",children:[" ",(0,I.jsx)(d._,{src:null===E||void 0===E?void 0:E.pic,alt:"Profile*",borderRadius:"full",boxSize:{base:"100px",md:"200px"},border:"4px solid white"}),(0,I.jsxs)(u.a,{fontSize:"md",children:[" ",(0,I.jsx)(p.D,{textAlign:"center",mb:4,color:"teal",children:"Profile"}),(0,I.jsxs)(u.a,{display:"flex",children:[(0,I.jsx)(h.E,{fontWeight:"bold",px:1,children:"Name:"}),null===E||void 0===E?void 0:E.name," ",null===E||void 0===E?void 0:E.otherName]}),(0,I.jsxs)(u.a,{display:"flex",children:[(0,I.jsx)(h.E,{fontWeight:"bold",px:1,children:"Code:"})," ",null!==E&&void 0!==E&&E.admission?null===E||void 0===E?void 0:E.admission:"Not enrolled: ".concat(null===E||void 0===E?void 0:E.belt)]}),(0,I.jsxs)(u.a,{display:"flex",children:[(0,I.jsx)(h.E,{fontWeight:"bold",px:1,children:"Email:"})," ",null===E||void 0===E?void 0:E.email]}),(0,I.jsxs)(u.a,{display:"flex",children:[(0,I.jsx)(h.E,{fontWeight:"bold",px:1,children:"Country:"})," ",null===E||void 0===E?void 0:E.country]}),(0,I.jsxs)(u.a,{display:"flex",children:[(0,I.jsx)(h.E,{fontWeight:"bold",px:1,children:"Province:"})," ",null===E||void 0===E?void 0:E.provinces]}),(0,I.jsxs)(u.a,{display:"flex",children:[(0,I.jsx)(h.E,{fontWeight:"bold",px:1,children:"Coach:"}),null!==E&&void 0!==E&&E.coach?" \u2714\ufe0f":"Not a coach"]}),(0,I.jsxs)(u.a,{display:"flex",flexWrap:"wrap",children:[(0,I.jsx)(h.E,{fontWeight:"bold",px:1,children:"Highest Level Attained:"})," ",null===E||void 0===E?void 0:E.belt]}),"6693a995f6295b8bd90d9301"===(null===E||void 0===E?void 0:E._id)&&(0,I.jsx)(u.a,{display:"flex",flexWrap:"wrap",children:(0,I.jsx)(f.$,{colorScheme:"teal",onClick:function(){return z("/admin-work-slot")},border:"none",m:1,children:"Admin Work Slot"})})]})]})," ",(0,I.jsx)(h.E,{width:"100%",textAlign:"center",p:"3",children:"Access all features in one place"}),(0,I.jsxs)(u.a,{display:"flex",flexWrap:"wrap",width:"100%",p:"3",fontSize:"small",children:[(0,I.jsxs)(u.a,{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid grey",borderRadius:"5px",p:"1",m:"1",children:[(0,I.jsx)(Z.dnm,{}),(0,I.jsx)(h.E,{p:"1",children:"Live stream competitions"}),(0,I.jsx)(T.nQ7,{style:{color:"green"}})]}),(0,I.jsxs)(u.a,{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid grey",borderRadius:"5px",p:"1",m:"1",children:[(0,I.jsx)(Z.dnm,{}),(0,I.jsx)(h.E,{p:"1",children:"Become a coach = 50%+ Revenue"}),null!==E&&void 0!==E&&E.coach?(0,I.jsx)(T.nQ7,{style:{color:"green"}}):(0,I.jsx)(T.JhU,{})]}),(0,I.jsxs)(u.a,{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid grey",borderRadius:"5px",p:"1",m:"1",children:[(0,I.jsx)(Z.dnm,{}),(0,I.jsx)(h.E,{p:"1",children:"Become a provincial coach = 70%+ Revenue"}),null!==E&&void 0!==E&&E.coach?(0,I.jsx)(T.nQ7,{style:{color:"green"}}):(0,I.jsx)(T.JhU,{})]}),(0,I.jsxs)(u.a,{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid grey",borderRadius:"5px",p:"1",m:"1",children:[(0,I.jsx)(Z.dnm,{}),(0,I.jsx)(h.E,{p:"1",children:"Become a national coach = 90%+ Revenue"}),null!==E&&void 0!==E&&E.coach?(0,I.jsx)(T.nQ7,{style:{color:"green"}}):(0,I.jsx)(T.JhU,{})]})]}),(null===E||void 0===E?void 0:E.coach)&&(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",width:"100%",minH:"200px",overflow:"auto",children:[G?(0,I.jsxs)(x.B,{width:"100%",children:[(0,I.jsx)(m.E,{height:"20px"}),(0,I.jsx)(m.E,{height:"20px"}),(0,I.jsx)(m.E,{height:"20px"})]}):(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:{base:"100%",md:"60%"},boxShadow:"base",mt:2,p:"4",rounded:"md",bg:"whitesmoke",children:[(0,I.jsx)(p.D,{mb:2,children:"Club Details"}),(0,I.jsxs)(h.E,{fontSize:"sm",fontWeight:500,bg:(0,g.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",margin:1,width:"90%",children:["Status (*",M&&M.registered?"Registered":"Not registered",")"]}),(0,I.jsxs)(h.E,{children:["Club Name: ",null===M||void 0===M?void 0:M.name]}),(0,I.jsxs)(h.E,{children:["Club Code: ",null===M||void 0===M?void 0:M.code]}),(0,I.jsxs)(f.$,{background:"transparent",_hover:{background:"transparent",color:"green"},onClick:function(){O(!q)},fontStyle:"italic",children:["Members: ",null===M||void 0===M?void 0:M.members.length]}),(0,I.jsxs)(h.E,{children:["Followers: ",null===M||void 0===M?void 0:M.followers.length]}),(0,I.jsxs)(h.E,{children:["Received Likes: ",null===M||void 0===M?void 0:M.likes.length]})]}),q&&(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",background:"white",overflow:"auto",boxShadow:"base",p:"6",mt:2,rounded:"md",bg:"whitesmoke",width:{base:"100%",md:"60%"},children:[(0,I.jsx)(p.D,{mb:2,children:"Members List"}),M.members.length>0&&M.members.map((function(e,n){return(0,I.jsxs)(h.E,{fontSize:"small",children:[n+1,". Name: ",e.name," Adm: ",e.admission]},e._id)}))]})]})}),(null===E||void 0===E?void 0:E.coach)&&(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:"100%",boxShadow:"base",p:"6",rounded:"md",bg:"whitesmoke",children:[(0,I.jsxs)(u.a,{textAlign:"center",width:"100%",mb:"4",children:[(0,I.jsx)(f.$,{background:"purple.400",onClick:function(){return fe(!he)},children:"Register Students Manually"}),he&&"\u2193"]}),he&&(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:"100%",boxShadow:"base",p:"4",rounded:"md",background:"whitesmoke",children:[" ",(0,I.jsx)(H,{})]}),(0,I.jsx)(h.E,{fontSize:"sm",fontWeight:500,bg:(0,g.dU)("green.50","green.900"),px:6,p:"3",mb:"4",color:"green.500",rounded:"full",children:"Coach's assisted student rank upgrading"}),!_e||!We,(0,I.jsxs)(u.a,{display:"flex",pb:2,width:{base:"100%",md:"60%"},justifyContent:"center",alignItems:"center",children:[(0,I.jsx)(b.p,{placeholder:"Search by name, email, or admission",mr:2,value:U,onChange:function(e){return Y(e.target.value)},fontSize:"small"}),(0,I.jsx)(f.$,{borderRadius:20,onClick:Ge,children:"\ud83d\udd0dSearch"})]}),(0,I.jsx)(h.E,{children:"Or"}),!ie&&(0,I.jsxs)(u.a,{display:"flex",pb:2,width:{base:"100%",md:"60%"},justifyContent:"center",alignItems:"center",children:[(0,I.jsx)(v.T,{placeholder:"Enter student details",mr:2,value:_e,onChange:function(e){return Ie(e.target.value)},fontSize:"small"}),(0,I.jsx)(j.l,{children:"Picture"}),(0,I.jsx)(b.p,{type:"file",accept:"image/*",borderRadius:20,fontSize:"small",onChange:function(e){Fe(e.target.files[0])},isDisabled:Pe})]}),(0,I.jsxs)(u.a,{display:"flex",flexDir:"column",overflow:"auto",width:"100%",justifyContent:"center",alignItems:"center",overflowY:"auto",children:[(0,I.jsx)(u.a,{display:ce?"none":"flex",flexDir:"column",width:"100%",maxH:"300px",overflow:"auto",children:G?(0,I.jsxs)(u.a,{display:"flex",width:"100%",padding:"6",boxShadow:"lg",bg:"whitesmoke",children:[(0,I.jsx)(w.Q,{size:"10"}),(0,I.jsx)(y.r,{mt:"4",noOfLines:4,spacing:"4",skeletonHeight:"2"})]}):null===ne||void 0===ne?void 0:ne.map((function(e){return(0,I.jsx)(R,{user:e,handleFunction:function(){se({id:e._id,name:e.name,email:e.email,pic:e.pic}),ue(!0)}},e._id)}))}),(ce||_e&&We)&&(0,I.jsxs)(u.a,{p:"6",children:[(0,I.jsxs)(h.E,{textAlign:"center",fontSize:"sm",fontWeight:500,bg:(0,g.dU)("green.50","green.900"),px:3,p:"2.5",mb:"4",color:"purple.500",rounded:"full",children:["Upgrading: ",null===ie||void 0===ie?void 0:ie.name," ",null===ie||void 0===ie?void 0:ie.email," ",_e,"($5 Fee)"]})," ",(0,I.jsx)(D.ag,{options:{clientId:"AZAdYFR_SbadcgOcCLYn9ajkReJTZmOCnEeAvQ3xPYAE5BMYFBHi4vDeILfNwBO-hh-8wfyGC9lNeB1I"},children:(0,I.jsx)(D.JV,{createOrder:function(e,n){return n.order.create({purchase_units:[{amount:{currency_code:"USD",value:5..toFixed(2)}}]})},onApprove:function(){var e=(0,i.A)((0,o.A)().mark((function e(n,t){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:return e.next=4,Be(ie._id);case 4:return e.abrupt("return",t.order.capture().then((function(e){$({title:"Success",description:"Wait for WSF to send certificate to particulars.",status:"success",duration:3e3,isClosable:!0,position:"bottom"})})));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onCancel:function(){ue(!1),$({title:"Cancelled",status:"info",isClosable:!0,position:"bottom"})}})}),(0,I.jsxs)(f.$,{fontSize:"small",width:"100%",bg:(0,g.dU)("green.100","green.900"),onClick:function(){ye(!0)},p:0,children:[(0,I.jsx)(d._,{height:5,width:"auto",src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1694007922/mpesa_ppfs6p.png",alt:"",loading:"lazy"})," ","Pay via Mpesa"]}),we&&(0,I.jsxs)(u.a,{padding:"6",children:[(0,I.jsx)(h.E,{textAlign:"center",justifyContent:"center",fontSize:"xl",children:"Enter Your Mpesa Phone Number (KSH 450/=)"}),(0,I.jsx)(b.p,{fontSize:"small",color:"green.400",fontWeight:"bold",placeholder:"Enter phone number",textAlign:"center",type:"number",onChange:function(e){return be(e.target.value)},value:ge,minLength:10,maxLength:10}),(0,I.jsx)(A.c,{p:2}),(0,I.jsx)(f.$,{width:"100%",onClick:function(){(0,L.ZU)("450",ge,E,$),ye(!1),$({title:"Wait as message is sent",status:"loading",isClosable:!0,position:"bottom",duration:5e3})},isDisabled:ge.length!==parseInt(10),colorScheme:"green",children:"Proceed"}),(0,I.jsx)(h.E,{textAlign:"center",justifyContent:"center",children:"You'll be sent a Message"})]})]})]})]}),(null===E||void 0===E||null===(n=E.provinceRequests)||void 0===n?void 0:n.length)>0&&(0,I.jsxs)(u.a,{textAlign:"start",fontSize:"medium",fontWeight:"bold",background:"white",overflow:"auto",boxShadow:"base",p:"4",height:"200px",rounded:"md",bg:"whitesmoke",width:"100%",children:[(0,I.jsx)(p.D,{mb:4,children:"Province Requests"}),null===E||void 0===E?void 0:E.provinceRequests.map((function(e,n){var t,r,o;return(0,I.jsxs)(h.E,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,I.jsxs)(h.E,{p:1,fontStyle:"italic",width:"100%",fontSize:"x-small",children:[" ",n+1,".",null===(t=e.provincialCoach)||void 0===t?void 0:t.name," Adm:",null===(r=e.provincialCoach)||void 0===r?void 0:r.admission," Approvals:"," ",null===(o=e.approvals)||void 0===o?void 0:o.length]}),(0,I.jsx)(f.$,{borderRadius:20,background:"#A020F0",color:"white",_hover:{color:"black"},fontSize:"x-small",onClick:function(){return Ke(e._id,!0)},children:"Approve\u2714\ufe0f"}),(0,I.jsx)(f.$,{borderRadius:20,fontSize:"x-small",color:"white",_hover:{color:"black"},background:"#A020F0",m:1,onClick:function(){return Ke(e._id,!1)},children:"Decline"})]},e._id)}))]}),(null===E||void 0===E||null===(t=E.nationalRequests)||void 0===t?void 0:t.length)>0&&(0,I.jsxs)(u.a,{textAlign:"start",fontSize:"medium",fontWeight:"bold",background:"white",overflow:"auto",boxShadow:"base",p:"4",height:"200px",rounded:"md",bg:"whitesmoke",width:"100%",children:[(0,I.jsx)(p.D,{mb:4,children:"National Requests"}),null===E||void 0===E?void 0:E.nationalRequests.map((function(e,n){return(0,I.jsxs)(u.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,I.jsxs)(h.E,{p:1,fontStyle:"italic",width:"100%",fontSize:"x-small",children:[" ",n+1,".",e.nationalCoach.name," Adm:",e.nationalCoach.admission]}),(0,I.jsx)(f.$,{borderRadius:20,background:"#A020F0",color:"white",_hover:{color:"black"},fontSize:"x-small",onClick:function(){return Qe(e._id,!0)},children:"Approve\u2714\ufe0f"}),(0,I.jsx)(f.$,{borderRadius:20,fontSize:"x-small",color:"white",_hover:{color:"black"},background:"#A020F0",m:1,onClick:function(){return Qe(e._id,!1)},children:"Decline"})]},e._id)}))]})]})]})}},32212:function(e,n,t){e.exports=t.p+"static/media/final.bb3e38731f3994d71217.jpeg"}}]);
//# sourceMappingURL=820.62c761a2.chunk.js.map