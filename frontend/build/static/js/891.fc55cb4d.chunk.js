"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[891],{33021:function(e,n,r){r.d(n,{A:function(){return L}});var t=r(5544),o=r(38028),s=r(96870),i=r(85522),a=r(3952),c=r(18876),l=r(20972),d=r(87139),u=r(42703),p=r(15707),h=r(98151),f=r(67918),x=r(71847),b=r(85156),j=r(18842),g=r(50927),m=r(52793),k=r(14929),C=r(11300),v=r(49342),y=r(42369),A=r(49788),w=r(73216),S=r(56818),_=r(90675),z=r(10467),$=r(29301),E=r(39081),I=r(73203),P=r(11054),M=r(76524),D=r(15071),O=r(35929),F=r(67516),N=r(22107),W=r(76659),q=r(56529),T=r(65043),B=r(79722),Z=r(47196),J=r(70579),R=function(){var e=(0,s.j)(),n=e.isOpen,r=e.onOpen,o=e.onClose,i=(0,T.useState)([]),a=(0,t.A)(i,2),c=a[0],l=a[1],d=(0,T.useState)(!1),u=(0,t.A)(d,2),p=u[0],h=u[1],f=(0,S.a)().user,x=(0,w.Zp)(),b=(0,T.useCallback)((0,z.A)((0,_.A)().mark((function e(){var n,r,t;return(0,_.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=6,B.A.get("/api/clubs/github/something/".concat(f._id),n);case 6:r=e.sent,t=r.data,l(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error fetching club requests:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),[f]);(0,T.useEffect)((function(){f&&b()}),[f,b]);var j=function(){var e=(0,z.A)((0,_.A)().mark((function e(n){var r,t,o;return(0,_.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&n){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,r={headers:{Authorization:"Bearer ".concat(f.token)}},e.next=7,B.A.get("/api/clubs/decline/request/".concat(n,"/").concat(f._id),r);case 7:t=e.sent,o=t.data,l(o),h(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),h(!1),console.error("Error fetching club requests/decline:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)($.$,{backgroundColor:"white",_hover:{backgroundColor:"transparent"},onClick:r,border:"none",children:[(0,J.jsx)(Z.TKI,{fontSize:"20px",border:"none"}),c&&c.length>0&&(0,J.jsx)(E.E,{position:"absolute",bottom:"70%",right:"70%",transform:"translate(50%, 0)",bg:"red.500",borderRadius:"50%",width:"2px",height:"2px",p:1.5}),(0,J.jsx)(E.E,{})]}),(0,J.jsxs)(I.aF,{isOpen:n,onClose:o,isCentered:!0,size:"sm",children:[(0,J.jsx)(P.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,J.jsxs)(M.$,{children:[(0,J.jsx)(D.r,{textAlign:"center",children:"Clubs Requests"}),(0,J.jsx)(O.s,{border:"none"}),(0,J.jsx)(F.c,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",maxH:"300px",children:c&&c.length>0?c.map((function(e,n){return(0,J.jsxs)(N.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,J.jsxs)($.$,{justifyContent:"space-between",onClick:function(){return x("/showclub/".concat(e._id))},border:"none",children:[n+1,". Club Name: ",e.name]},e._id),(0,J.jsx)($.$,{background:"#f05e56",onClick:function(){return j(e._id)},border:"none",children:p?(0,J.jsx)(W.y,{size:"small"}):"Decline"})]},n)})):(0,J.jsx)(J.Fragment,{children:(0,J.jsx)(E.E,{children:"All club requests have been replied to."})})}),(0,J.jsx)(q.j,{fontSize:"small",textDecor:"underline",children:"These requests were made by club coaches."})]})]})]})},U=r(32212),V=r(83002),Y=r(10202),K=r(96148),H=r(50464),X=function(e){var n=e.isOpen,r=e.onClose,o=(0,T.useState)(""),s=(0,t.A)(o,2),i=s[0],a=s[1],c=(0,T.useState)(""),l=(0,t.A)(c,2),d=l[0],u=l[1],p=(0,w.Zp)();return(0,J.jsxs)(I.aF,{isOpen:n,onClose:r,isCentered:!0,children:[(0,J.jsx)(P.m,{}),(0,J.jsxs)(M.$,{children:[(0,J.jsx)(D.r,{textAlign:"center",children:"Admin Access Verification"}),(0,J.jsx)(O.s,{}),(0,J.jsx)(F.c,{children:(0,J.jsxs)(Y.T,{spacing:4,align:"center",children:[(0,J.jsx)(E.E,{children:"To access the admin page, please enter the passkey."}),(0,J.jsx)(K.z,{children:(0,J.jsxs)(H.c,{value:i,onChange:function(e){a(e),u("")},type:"number",autoFocus:!0,children:[(0,J.jsx)(H.M,{}),(0,J.jsx)(H.M,{}),(0,J.jsx)(H.M,{}),(0,J.jsx)(H.M,{}),(0,J.jsx)(H.M,{}),(0,J.jsx)(H.M,{})]})}),d&&(0,J.jsx)(E.E,{color:"red.500",children:d})]})}),(0,J.jsx)(q.j,{children:(0,J.jsx)($.$,{colorScheme:"blue",onClick:function(){"165432"===i?(p("/admin"),r()):u("Invalid passkey. Please try again.")},width:"full",children:"Enter Admin Passkey"})})]})]})},G=r(6720);var L=function(){var e=(0,S.a)(),n=e.user,r=e.notification,_=e.setNotification,z=(0,s.j)(),$=z.isOpen,E=z.onOpen,I=z.onClose,P=(0,w.Zp)(),M=(0,T.useState)(!1),D=(0,t.A)(M,2),O=D[0],F=D[1],N=(0,c.A)({base:"none",md:"flex"}),W=(0,c.A)({base:"hidden",md:"visible"});return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(i.az,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:3,paddingBottom:2,boxShadow:"2xl",zIndex:10,top:0,position:"fixed",children:[(0,J.jsx)(l._,{src:U,height:12}),(0,J.jsxs)(i.az,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,J.jsx)(o.$,{backgroundColor:"transparent",border:"none",display:N,visibility:W,_hover:{backgroundColor:"transparent",color:"green.400"},onClick:function(){P("/dashboard")},children:"My Programs"}),(0,J.jsx)(o.$,{variant:"ghost",display:{base:"none",md:"flex"},border:"none",onClick:E,_hover:{backgroundColor:"transparent",color:"green.400"},children:(0,J.jsx)(a.E,{px:4,userSelect:"none",children:"Discover"})}),(0,J.jsx)(R,{})]}),(0,J.jsxs)("div",{children:[(0,J.jsxs)(h.W,{children:[(0,J.jsxs)(f.I,{p:1,position:"relative",border:"none",children:[(0,J.jsx)(y.X,{fontSize:"2xl",p:0,m:0}),r.length>0&&(0,J.jsx)(d.E,{variant:"subtle",position:"absolute",top:"-3px",right:"-3px",backgroundColor:"red",zIndex:1,borderRadius:"50%",color:"white",children:r.length})]}),(0,J.jsxs)(x.c,{pl:2,children:[!r.length&&"No New Messages",r.map((function(e){return(0,J.jsx)(b.D,{onClick:function(){_(r.filter((function(n){return n!==e})))},p:"4",children:"New message from ".concat(e.sender?e.sender.name:"Coach"," ADM: ").concat(e.sender?e.sender.admission:" ")},e._id)}))]})]}),(0,J.jsx)(h.W,{children:(0,J.jsx)(f.I,{as:o.$,bg:"white",border:"none",_hover:{backgroundColor:"transparent"},onClick:E,children:"flex"===N?(0,J.jsx)(A.e,{size:"sm",cursor:"pointer",name:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.pic}):(0,J.jsx)(u.K,{backgroundColor:"transparent",border:"none",icon:(0,J.jsx)(v.twg,{})})})})]})]}),(0,J.jsx)(X,{isOpen:O,onClose:function(){return F(!1)}}),(0,J.jsxs)(j._,{placement:"left",onClose:I,isOpen:$,children:[(0,J.jsx)(g.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,J.jsxs)(m.z,{children:[(0,J.jsxs)(k.r,{borderBottomWidth:"1px",display:"flex",justifyContent:"space-between",children:["Dashboard",(0,J.jsx)(p.J,{onClick:I,border:"none"})]}),(0,J.jsxs)(C.c,{display:"flex",flexDir:"column",justifyContent:"start",width:"100%",padding:3,children:[(0,J.jsxs)(o.$,{display:"flex",justifyContent:"left",alignItems:"center",border:"none",fontSize:"medium",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:function(){return P("/profile")},children:[(0,J.jsx)(A.e,{size:"sm",cursor:"pointer",name:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.pic}),(0,J.jsx)(a.E,{p:2,m:1,children:"Profile"})]}),(0,J.jsx)(o.$,{justifyContent:"left",border:"none",background:"white",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){P("/dashboard"),I()},children:"My Programs"}),(0,J.jsx)(o.$,{justifyContent:"start",background:"white",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){P("/clubs"),I()},children:"Clubs"}),(0,J.jsx)(o.$,{justifyContent:"left",background:"white",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},isDisabled:!(null!==n&&void 0!==n&&n.provinces),onClick:function(){P("/province"),I()},children:"Provincial level"}),(0,J.jsx)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){P("/national"),I()},children:"National level"}),(0,J.jsx)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){P("/championships"),I()},children:"International Championship"}),(0,J.jsxs)(o.$,{background:"white",justifyContent:"left",border:"none",isDisabled:!0,_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){P("/stream"),I()},children:[(0,J.jsx)(G.Md6,{})," \xa0 Streams"]}),(0,J.jsxs)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){F(!0),I()},children:[(0,J.jsx)(Z.P3Y,{})," \xa0 Admin"]}),(0,J.jsxs)(o.$,{background:"white",justifyContent:"left",border:"none",_hover:{backgroundColor:"transparent",color:"blackAlpha.600"},onClick:function(){localStorage.removeItem("userInfo"),_([]),P("/")},children:[(0,J.jsx)(V.TMk,{})," \xa0 Sign out"]})]})]})]})]})}},97891:function(e,n,r){r.r(n);var t=r(90675),o=r(10467),s=r(5544),i=r(65043),a=r(30502),c=r(10202),l=r(39081),d=r(44093),u=r(22107),p=r(73225),h=r(76668),f=r(35699),x=r(10804),b=r(29301),j=r(33021),g=r(79722),m=r(73216),k=r(70579);n.default=function(e){var n=e.user,r=(0,i.useState)(null),C=(0,s.A)(r,2),v=C[0],y=C[1],A=(0,i.useState)(null),w=(0,s.A)(A,2),S=w[0],_=w[1],z=(0,i.useState)(!1),$=(0,s.A)(z,2),E=$[0],I=$[1],P=(0,i.useState)(!1),M=(0,s.A)(P,2),D=M[0],O=M[1],F=(0,i.useState)(""),N=(0,s.A)(F,2),W=N[0],q=N[1],T=(0,i.useState)(""),B=(0,s.A)(T,2),Z=B[0],J=B[1],R=(0,a.d)(),U=(0,m.g)().title,V=(0,m.Zp)(),Y=(0,i.useCallback)((0,o.A)((0,t.A)().mark((function e(){var r,o;return(0,t.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return V("/dashboard"),e.abrupt("return");case 3:return e.prev=3,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=7,g.A.post("/api/submit/".concat(n._id),{savePhoto:Z,saveVideo:W},r);case 7:o=e.sent,o.data,V("/dashboard"),R({title:"Submission successful!",description:"Wait for your results under 24hrs",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0),R({title:"Error occurred trying to send your work!",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),[R,V,n,Z,Z]);(0,i.useEffect)((function(){Z&&W&&Y()}),[Z,W]);return(0,k.jsxs)(c.T,{align:"center",justify:"center",width:"100%",background:"white",p:2,children:[(0,k.jsx)(j.A,{}),(0,k.jsx)(l.E,{fontSize:"sm",fontWeight:500,bg:(0,d.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",margin:1,width:{base:"90%",md:"60%"},children:U}),(0,k.jsx)(l.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",children:"Submit your work for grading(*Passport picture as proof of identity)"}),(0,k.jsxs)(u.a,{width:{base:"100%",md:"50%"},children:[" ",(0,k.jsxs)(p.MJ,{isInvalid:!v,children:[(0,k.jsx)(h.l,{children:"Video"}),(0,k.jsx)(f.p,{type:"file",accept:"video/*",onChange:function(e){y(e.target.files[0])}}),E&&(0,k.jsx)("p",{children:"Uploading video..."}),(0,k.jsx)(x.Wt,{children:"Please select a video file."})]}),(0,k.jsxs)(p.MJ,{isInvalid:!S,children:[(0,k.jsx)(h.l,{children:"Passport Photo"}),(0,k.jsx)(f.p,{type:"file",accept:"image/*",onChange:function(e){_(e.target.files[0])}}),D&&(0,k.jsx)("p",{children:"Uploading passport photo..."}),(0,k.jsx)(x.Wt,{children:"Please select a passport photo."})]}),(0,k.jsx)(b.$,{colorScheme:"teal",onClick:function(){if(v)if(S){if(v){I(!0);var e=new FormData;e.append("file",v),e.append("upload_preset","worldsamma"),fetch("https://api.cloudinary.com/v1_1/dsdlgmgwi/video/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){q(e.url),I(!1)})).catch((function(e){I(!1),R({title:"Error Occurred uploading your video.",description:"Please try again later.",duration:5e3,status:"error"})}))}if(S){O(!0);var n=new FormData;n.append("file",S),n.append("upload_preset","worldsamma"),fetch("https://api.cloudinary.com/v1_1/dsdlgmgwi/image/upload",{method:"post",body:n}).then((function(e){return e.json()})).then((function(e){J(e.url),O(!1)})).catch((function(e){O(!1),R({title:"Error Occurred uploading your passport photo.",description:"Please try again later.",duration:5e3,status:"error"})}))}}else R({title:"Your passport photo please.",description:"No file selected.",status:"info",duration:5e3});else R({title:"Your recorded video please.",description:"No file selected.",status:"info",duration:5e3})},children:"Submit"})]})]})}},32212:function(e,n,r){e.exports=r.p+"static/media/final.bb3e38731f3994d71217.jpeg"}}]);
//# sourceMappingURL=891.fc55cb4d.chunk.js.map