{"version":3,"file":"static/js/432.385651ff.chunk.js","mappings":"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","sources":["components/ErrorBoundary.js","components/config/axios.js","components/config/formatTime.js","miscellenious/Progress.js","miscellenious/Payments.js","miscellenious/Myprograms.js","miscellenious/Message.js","miscellenious/ScrollableChat.js","miscellenious/FloatingChat.js","pages/Dashboard.js"],"sourcesContent":["import { Box, Link, Text } from \"@chakra-ui/react\";\r\nimport React from \"react\";\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    console.error(error, info);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <Box\r\n          display={\"flex\"}\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          background={\"whitesmoke\"}\r\n          width={\"100%\"}\r\n          height={\"100%\"}\r\n        >\r\n          {\" \"}\r\n          <Box\r\n            display={\"flex\"}\r\n            flexDirection={\"column\"}\r\n            justifyContent={\"center\"}\r\n            alignItems={\"center\"}\r\n          >\r\n            {\" \"}\r\n            <Text fontSize={\"2xl\"}>An error occurred. Please </Text>\r\n            <Link color=\"teal.500\" href=\"/dashboard\">\r\n              Go Back...\r\n            </Link>\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\nexport default ErrorBoundary;\r\n","import axios from \"axios\";\r\n\r\nconst axiosInstance = axios.create();\r\naxiosInstance.interceptors.response.use(\r\n  async (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n","const formatMessageTime = (timestamp) => {\r\n  const messageTime = new Date(timestamp);\r\n  const currentTime = new Date();\r\n\r\n  const timeDifference = currentTime - messageTime;\r\n  const seconds = Math.floor(timeDifference / 1000);\r\n  const minutes = Math.floor(seconds / 60);\r\n  const hours = Math.floor(minutes / 60);\r\n  const days = Math.floor(hours / 24);\r\n\r\n  if (seconds < 60) {\r\n    return \"Just now\";\r\n  } else if (minutes < 60) {\r\n    return `${minutes} minute${minutes === 1 ? \"\" : \"s\"} ago`;\r\n  } else if (hours < 24) {\r\n    return `${hours} hour${hours === 1 ? \"\" : \"s\"} ago`;\r\n  } else if (days === 1) {\r\n    return \"Yesterday\";\r\n  } else if (days < 7) {\r\n    return `${days} day${days === 1 ? \"\" : \"s\"} ago`;\r\n  } else {\r\n    const options = {\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n      year: \"numeric\",\r\n    };\r\n    return messageTime.toLocaleDateString(\"en-US\", options);\r\n  }\r\n};\r\nexport default formatMessageTime;\r\n","import { Text } from \"@chakra-ui/react\";\r\nimport styled from \"styled-components\";\r\nimport { keyframes } from \"styled-components\";\r\nimport { GiBlackBelt } from \"react-icons/gi\";\r\n\r\nconst ProgressContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n  position: relative;\r\n  width: 100%;\r\n  padding: 0;\r\n  margin: 0;\r\n`;\r\n\r\nconst ProgressSlot = styled.div`\r\n  display: flex;\r\n  width: 30%;\r\n  height: 50px;\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  font-weight: bold;\r\n  padding: 0;\r\n  margin: 0;\r\n`;\r\nconst progressAnimation = keyframes`\r\n  from {\r\n    width: 1%; /* Adjust the initial width as needed */\r\n  }\r\n  to {\r\n    width: ${({ level }) => (level + 1.2) * 10}%;\r\n  }\r\n`;\r\n\r\nconst blinkingAnimation = keyframes`\r\n  0%, 100% {\r\n    background-color: #ed7d66; /* Slightly less green color */\r\n  }\r\n  50% {\r\n    background-color: #66d171; /* Default green color */\r\n  }\r\n`;\r\n\r\nconst ProgressArrow = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 50px;\r\n  height: 14px;\r\n  background-color: #66d171;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin: 0;\r\n  padding: 0;\r\n  width: ${({ level }) => (level + 1) * 10}%;\r\n  animation: ${progressAnimation} 2s ease-in-out,\r\n    ${blinkingAnimation} 3s ease-in-out infinite;\r\n`;\r\n\r\nconst Progress = ({ userBelt }) => {\r\n  const progressLevels = [\r\n    \"Guest\",\r\n    `grey`,\r\n    `#baba30`,\r\n    `orange`,\r\n    `red`,\r\n    `purple`,\r\n    `green`,\r\n    `blue`,\r\n    `brown`,\r\n    `black`,\r\n  ];\r\n  const progress = [\r\n    \"Guest\" || undefined,\r\n    \"Beginner\",\r\n    \"Yellow\",\r\n    \"Orange\",\r\n    \"Red\",\r\n    \"Purple\",\r\n    \"Green\",\r\n    \"Blue\",\r\n    \"Brown\",\r\n    \"Black\",\r\n  ];\r\n\r\n  const level = progress.indexOf(userBelt);\r\n\r\n  return (\r\n    <ProgressContainer>\r\n      {progressLevels.map((belt, index) => (\r\n        <ProgressSlot key={index}>\r\n          <Text\r\n            marginTop={-3}\r\n            fontWeight={{ base: \"sm\", md: \"md\" }}\r\n            fontSize={{ base: \"10px\", md: \"md\" }}\r\n            textAlign=\"center\"\r\n          >\r\n            {index > 0 ? (\r\n              <GiBlackBelt style={{ color: belt, fontSize: \"1.5rem\" }} />\r\n            ) : (\r\n              belt\r\n            )}\r\n          </Text>\r\n        </ProgressSlot>\r\n      ))}\r\n      <ProgressArrow level={level}>\r\n        {\" \"}\r\n        <Text textAlign={\"center\"} fontSize={\"small\"} p={1}>\r\n          {(level + 1) * 10}%\r\n        </Text>{\" \"}\r\n      </ProgressArrow>\r\n    </ProgressContainer>\r\n  );\r\n};\r\n\r\nexport default Progress;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Text,\r\n  useColorModeValue,\r\n  useToast,\r\n  Button,\r\n  Image,\r\n  Input,\r\n  ModalContent,\r\n  ModalOverlay,\r\n  ModalHeader,\r\n  ModalCloseButton,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Modal,\r\n  useDisclosure,\r\n  Divider,\r\n} from \"@chakra-ui/react\";\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\nimport {\r\n  makePaymentMpesa,\r\n  useConnectSocket,\r\n} from \"../components/config/chatlogics\";\r\nimport { ChatState } from \"../components/Context/ChatProvider\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Paycheck({ course }) {\r\n  const toast = useToast();\r\n  const { user, setUser } = ChatState();\r\n  const [show, setShow] = useState(false);\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const { isOpen, onOpen, onClose } = useDisclosure();\r\n  const socket = useConnectSocket(user?.token);\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    socket.on(\"noPayment\", (nothing) => {\r\n      toast({\r\n        title: nothing,\r\n        description: \"Subscription unsuccessful\",\r\n        status: \"info\",\r\n        duration: 5000,\r\n        position: \"bottom\",\r\n      });\r\n    });\r\n    socket.on(\"userUpdated\", async (update) => {\r\n      setUser((prev) => ({ ...prev, belt: update.belt }));\r\n\r\n      toast({\r\n        title: \"Successfully updated\",\r\n        description: `Ranked ${update.belt}`,\r\n        status: \"info\",\r\n        duration: 5000,\r\n        position: \"bottom\",\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"userUpdated\");\r\n      socket.off(\"noPayment\");\r\n    };\r\n  }, [setUser, toast, socket]);\r\n\r\n  const handleAfterPay = async () => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.get(`/api/user/update`, config);\r\n      setUser((prev) => ({ ...prev, belt: data.belt }));\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400) {\r\n        toast({\r\n          title: \"Belt achieved!\",\r\n          description: error.response.data.message,\r\n          status: \"info\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n          position: \"bottom\",\r\n        });\r\n      } else {\r\n        // Handle other errors\r\n        console.error(\"An error occurred:\", error);\r\n        toast({\r\n          title: \"An Error Occurred!\",\r\n          description: \"Please try again later.\",\r\n          status: \"error\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n          position: \"bottom\",\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const checkAvailability = () => {\r\n    const userCertificatesLength = user && user.certificates.length;\r\n    const courseIndex = course.id - 1;\r\n\r\n    // Allow enrollment for the first/next course only if the user is a guest\r\n    const canEnroll =\r\n      (user && user.belt === \"Guest\" && courseIndex === 0) ||\r\n      userCertificatesLength + 1 === courseIndex + 1;\r\n\r\n    if (canEnroll) {\r\n      // Open the payment modal\r\n      onOpen();\r\n    } else if (user && user.belt === course.title) {\r\n      toast({\r\n        title: \"Currently on this course\",\r\n        description: \"You don't need to enroll in this course.\",\r\n        status: \"warning\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n    } else {\r\n      // Display a toast message indicating unavailability\r\n      toast({\r\n        title: \"Course Unavailable\",\r\n        description:\r\n          \"You don't meet the requirements to enroll in this course.\",\r\n        status: \"warning\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        borderRadius={20}\r\n        fontSize={\"small\"}\r\n        background={\"#a432a8\"}\r\n        textColor={\"white\"}\r\n        _hover={{ color: \"black\" }}\r\n        m={1}\r\n        onClick={checkAvailability}\r\n      >\r\n        Enroll\r\n      </Button>\r\n      <Modal\r\n        size=\"lg\"\r\n        onClose={() => {\r\n          setShow(false);\r\n          onClose();\r\n        }}\r\n        isOpen={isOpen}\r\n        isCentered\r\n      >\r\n        <ModalOverlay\r\n          bg=\"blackAlpha.300\"\r\n          backdropFilter=\"blur(10px) hue-rotate(90deg)\"\r\n        />\r\n        <ModalContent\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n          justifyContent=\"center\"\r\n          width={\"100%\"}\r\n        >\r\n          <ModalHeader fontSize=\"40px\" fontFamily=\"Work sans\">\r\n            <Text\r\n              textAlign={\"center\"}\r\n              fontSize={\"sm\"}\r\n              fontWeight={500}\r\n              p={2}\r\n              px={3}\r\n              color={\"green.500\"}\r\n              rounded={\"full\"}\r\n            >\r\n              Elevate Your Craft: {course.title}\r\n            </Text>\r\n          </ModalHeader>\r\n          <ModalCloseButton />\r\n          <ModalBody>\r\n            <PayPalScriptProvider\r\n              options={{\r\n                clientId:\r\n                  \"AZAdYFR_SbadcgOcCLYn9ajkReJTZmOCnEeAvQ3xPYAE5BMYFBHi4vDeILfNwBO-hh-8wfyGC9lNeB1I\",\r\n              }}\r\n            >\r\n              <PayPalButtons\r\n                createOrder={(data, actions) => {\r\n                  const amount = 12.0;\r\n                  return actions.order.create({\r\n                    purchase_units: [\r\n                      {\r\n                        amount: {\r\n                          currency_code: \"USD\",\r\n                          value: amount.toFixed(2),\r\n                        },\r\n                      },\r\n                    ],\r\n                  });\r\n                }}\r\n                onApprove={async (data, actions) => {\r\n                  await handleAfterPay();\r\n                  return actions.order.capture().then(function (details) {\r\n                    toast({\r\n                      title: \"Success\",\r\n                      description: data.subscriptionID,\r\n                      status: \"info\",\r\n                      duration: 3000,\r\n                      isClosable: true,\r\n                      position: \"bottom\",\r\n                    });\r\n                  });\r\n                }}\r\n                onCancel={() => {\r\n                  toast({\r\n                    title: \"Cancelled\",\r\n                    description: \"Subscription Unsuccessful\",\r\n                    status: \"info\",\r\n                    isClosable: true,\r\n                    position: \"bottom\",\r\n                  });\r\n                }}\r\n              />\r\n            </PayPalScriptProvider>\r\n            <Button\r\n              fontSize={\"small\"}\r\n              width={\"100%\"}\r\n              bg={useColorModeValue(\"green.100\", \"green.900\")}\r\n              onClick={() => {\r\n                setShow(true);\r\n              }}\r\n              p={0}\r\n            >\r\n              <Image\r\n                height={5}\r\n                width={\"auto\"}\r\n                src={\r\n                  \"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1694007922/mpesa_ppfs6p.png\"\r\n                }\r\n                alt={\"\"}\r\n                loading=\"lazy\"\r\n              />{\" \"}\r\n              Pay via Mpesa\r\n            </Button>\r\n            {show && (\r\n              <Box m={3}>\r\n                <Text\r\n                  textAlign={\"center\"}\r\n                  justifyContent={\"center\"}\r\n                  fontSize={\"2xl\"}\r\n                >\r\n                  Enter Your Mpesa Phone Number\r\n                </Text>\r\n                <Input\r\n                  fontSize={\"small\"}\r\n                  color={\"green.400\"}\r\n                  fontWeight={\"bold\"}\r\n                  placeholder=\"Enter phone number\"\r\n                  textAlign={\"center\"}\r\n                  type=\"number\"\r\n                  onChange={(e) => setPhoneNumber(e.target.value)}\r\n                  value={phoneNumber}\r\n                  minLength={10}\r\n                  maxLength={10}\r\n                />\r\n                <Divider p={2} />\r\n                <Button\r\n                  width={\"100%\"}\r\n                  onClick={() => {\r\n                    makePaymentMpesa(\"4500\", phoneNumber, user, toast);\r\n                    setShow(false);\r\n                    toast({\r\n                      title: \"Wait as message is sent\",\r\n                      status: \"loading\",\r\n                      isClosable: true,\r\n                      position: \"bottom\",\r\n                      duration: 5000,\r\n                    });\r\n                  }}\r\n                  isDisabled={phoneNumber.length !== parseInt(10)}\r\n                  colorScheme=\"green\"\r\n                >\r\n                  Proceed\r\n                </Button>\r\n                <Text textAlign={\"center\"} justifyContent={\"center\"}>\r\n                  You'll be sent a Message\r\n                </Text>\r\n              </Box>\r\n            )}\r\n          </ModalBody>\r\n          <ModalFooter display=\"flex\"> Wait as PayPal processes...</ModalFooter>\r\n        </ModalContent>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Flex,\r\n  Text,\r\n  Button,\r\n  Link,\r\n  useColorModeValue,\r\n} from \"@chakra-ui/react\";\r\n\r\nimport Paycheck from \"./Payments\";\r\nimport { GiBlackBelt } from \"react-icons/gi\";\r\n\r\nconst MyPrograms = ({ courses, user }) => {\r\n  const handleDownload = (title, url) => {\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `${title}BeltCertificate.pdf`;\r\n    a.click();\r\n  };\r\n\r\n  const progressLevels = [\r\n    `#baba30`,\r\n    `orange`,\r\n    `red`,\r\n    `purple`,\r\n    `green`,\r\n    `blue`,\r\n    `brown`,\r\n    `black`,\r\n  ];\r\n  return (\r\n    <Box \r\n      display={\"flex\"}\r\n      flexDir={\"column\"}\r\n      alignItems={\"center\"}\r\n      justifyContent={\"center\"}\r\n      width=\"100%\"\r\n      p={4}\r\n      backgroundColor={\"white\"}\r\n    >\r\n      <Text fontSize=\"20px\" fontWeight=\"medium\">\r\n        My Programs\r\n      </Text>\r\n      {courses.map((course, index) => (\r\n        <Flex\r\n          key={course.id}\r\n          display={\"flex\"}\r\n          alignItems=\"center\"\r\n          justifyContent=\"space-between\"\r\n          m={4}\r\n          p={{ base: \"1\", md: \"4\" }}\r\n          width={{ base: \"90%\", md: \"70%\" }}\r\n          border={\"1px\"}\r\n          borderRadius={5}\r\n        >\r\n          <Box>\r\n            <Box fontSize={\"larger\"} fontWeight={\"medium\"}>\r\n              <Text>{course.title}</Text>\r\n              <GiBlackBelt\r\n                style={{ color: progressLevels[index], fontSize: \"3rem\" }}\r\n              />\r\n            </Box>\r\n            {course.title === user?.belt && (\r\n              <Link\r\n                href={`/courses/${course.id}`}\r\n                style={{ textDecoration: \"none\", color: \"inherit\" }}\r\n                p={0}\r\n                m={0}\r\n              >\r\n                Continue\r\n              </Link>\r\n            )}\r\n          </Box>\r\n\r\n          {user && user.certificates && user.certificates[index] ? (\r\n            <Button\r\n              onClick={handleDownload(course.title, user.certificates[index])}\r\n              borderRadius={20}\r\n              fontSize={\"small\"}\r\n              border={\"none\"}\r\n            >\r\n              Download Certificate\r\n            </Button>\r\n          ) : (\r\n            <Box\r\n              display={\"flex\"}\r\n              flexDir={\"column\"}\r\n              justifyContent={\"space-between\"}\r\n              alignItems={\"center\"}\r\n            >\r\n              <Paycheck course={course} />\r\n              <Text\r\n                fontSize={\"sm\"}\r\n                fontWeight={400}\r\n                bg={useColorModeValue(\"green.50\", \"green.900\")}\r\n                p={3}\r\n                px={3}\r\n                color={\"green.500\"}\r\n                rounded={\"full\"}\r\n              >\r\n                $12.00 only\r\n              </Text>\r\n            </Box>\r\n          )}\r\n        </Flex>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MyPrograms;\r\n","// Message.js\r\nimport React from \"react\";\r\nimport { ChatState } from \"../components/Context/ChatProvider\";\r\nimport { Box, Text } from \"@chakra-ui/react\";\r\nimport formatMessageTime from \"../components/config/formatTime\";\r\nimport { BsSendCheck } from \"react-icons/bs\";\r\nimport { LuBadgeCheck } from \"react-icons/lu\";\r\n\r\nfunction Message({ m }) {\r\n  const { user, setSelectedChat, setSend } = ChatState();\r\n  const adminId = \"6693a995f6295b8bd90d9301\"; \r\n  const userId = user?._id;\r\n  const handleClick = () => {\r\n    if (m.sender?._id !== userId) {\r\n      setSelectedChat(m.sender?._id);\r\n      setSend(m.sender?.name);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        display={\"flex\"}\r\n        flexDir={\"column\"}\r\n        position={\"relative\"}\r\n        fontSize={\"small\"}\r\n        onClick={handleClick}\r\n      >\r\n        <Box fontSize={\"smaller\"} textDecor={\"underline\"} textAlign={\"end\"}>\r\n        {m.sender?._id === adminId && userId !== adminId && <Box display={\"flex\"} justifyContent={\"flex-end\"} alignItems={\"center\"} width={\"100%\"}>From:{'\\u00A0'}<Box display={\"flex\"}><Text fontSize={\"bold\"}>WSF</Text><LuBadgeCheck style={{color: \"blue\"}} /></Box></Box>}\r\n        {m.sender?._id === userId && m.recipient?._id === adminId && <Box display={\"flex\"} >Sent to{'\\u00A0'}WSF<LuBadgeCheck style={{color: \"blue\"}} /></Box>}\r\n        {m.sender?._id !== adminId && <Text >From{'\\u00A0'}{m.sender?.name}</Text>}\r\n        {m.sender?._id === adminId && <Text >Sent to{'\\u00A0'}{m.recipient?.name}</Text>}\r\n        </Box>\r\n\r\n        {m.content}\r\n\r\n        <Text display={\"flex\"} textAlign=\"right\" m={0} p={0} fontSize={\"2xs\"}>\r\n          {m.sender?._id === user._id ? (\r\n            <BsSendCheck />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {formatMessageTime(m.createdAt)}\r\n        </Text>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { Box } from \"@chakra-ui/react\";\r\nimport { ChatState } from \"../components/Context/ChatProvider\";\r\nimport Message from \"./Message\";\r\n\r\nconst ScrollableChat = ({ messages }) => {\r\n  const { user } = ChatState();\r\n  return (\r\n    <div style={{ width: '100%', height: '90%', overflowY: 'auto' }}>\r\n      <Box \r\n        display=\"flex\" \r\n        justifyContent=\"start\" \r\n        alignItems=\"center\" \r\n        flexDir=\"column\" \r\n        background=\"white\"  \r\n        minH={\"100vh\"}\r\n        p={4} \r\n        mb={\"10\"}\r\n        width=\"100%\"\r\n      >\r\n        {messages.map((m, index) => {\r\n          if (!m && !user) {\r\n            return null;\r\n          }\r\n\r\n          const isUserMessage = m.sender?._id === user._id;\r\n\r\n          return (\r\n            <Box\r\n              bg={isUserMessage ? \"#BEE3F8\" : \"#B9F5D0\"}\r\n              borderRadius=\"20px\"\r\n              p=\"5px 15px\"\r\n              mb={\"2\"}\r\n              maxW=\"75%\"\r\n              alignSelf={isUserMessage ? \"flex-end\" : \"flex-start\"}\r\n              key={index}\r\n            >\r\n              <Message m={m} />\r\n            </Box>\r\n          );\r\n        })}\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScrollableChat;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport {\r\n  Box,\r\n  Input,\r\n  Button,\r\n  Text,\r\n  useToast,\r\n  IconButton,\r\n  Spinner,\r\n} from \"@chakra-ui/react\";\r\nimport ScrollableChat from \"./ScrollableChat\";\r\nimport { ChatState } from \"../components/Context/ChatProvider\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useConnectSocket } from \"../components/config/chatlogics\";\r\nimport { IoIosSend } from \"react-icons/io\";\r\n\r\nconst FloatingChat = ({ onClose }) => {\r\n  const toast = useToast();\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [chatOptions, setChatOptions] = useState([\r\n    \"WSF\",\r\n    \"Coach\",\r\n    \"Provincial Coach\",\r\n    \"National Coach\",\r\n  ]);\r\n  const [selectedChatOption, setSelectedChatOption] = useState(null);\r\n  const [sender, setSender] = useState(null);\r\n  const [loading, setLoading] = useState();\r\n  const [rank, setRank] = useState(false);\r\n  const [sending, setSending] = useState(false);\r\n  const {\r\n    user,\r\n    selectedChat,\r\n    setSelectedChat,\r\n    send,\r\n    setSend,\r\n    messages,\r\n    setMessages,\r\n    national,\r\n    province,\r\n  } = ChatState();\r\n  const navigate = useNavigate();\r\n  const adminId = \"6693a995f6295b8bd90d9301\";\r\n  const socket = useConnectSocket(user?.token);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      user?._id === adminId ||\r\n      user?.coach ||\r\n      province?.provincialCoach._id === user?._id ||\r\n      national?.nationalCoach._id === user?._id\r\n    ) {\r\n      setRank(true);\r\n    }\r\n  }, [user, national, province, setRank]);\r\n\r\n  useEffect(() => {\r\n    if (user.provinces === undefined) {\r\n      setChatOptions((prevOptions) =>\r\n        prevOptions.filter((option) => option !== \"Provincial Coach\")\r\n      );\r\n    }\r\n  }, [user.provinces]);\r\n\r\n  useEffect(() => {\r\n    if (selectedChatOption === \"Coach\" && !user?.physicalCoach) {\r\n      navigate(\"/clubs\");\r\n      toast({\r\n        title: \"You've not joined a Club\",\r\n        description: \"Join a club or make one as you'd please\",\r\n        status: \"info\",\r\n        duration: 5000,\r\n        position: \"bottom-left\",\r\n      });\r\n      setSelectedChatOption(null)\r\n      return;\r\n    } else if (selectedChatOption === \"Provincial Coach\" && !province) {\r\n      setSelectedChatOption(null)\r\n      navigate(\"/province\");\r\n      toast({\r\n        title: \"Provincial Samma Association seat is empty!\",\r\n        description: \"Apply for Interim\",\r\n        status: \"info\",\r\n        duration: 5000,\r\n        position: \"bottom-left\",\r\n      });\r\n      return\r\n    } else if (selectedChatOption === \"National Coach\" && !national) {\r\n      setSelectedChatOption(null)\r\n      navigate(\"/national\");\r\n      toast({\r\n        title: \"National Samma Association seat is empty!\",\r\n        description: \"Apply for Interim\",\r\n        status: \"info\",\r\n        duration: 5000,\r\n        position: \"bottom-left\",\r\n      });\r\n      return;\r\n    }\r\n  }, [selectedChatOption, navigate, user, national, province, toast]);\r\n\r\n  const fetchMessages = useCallback(async () => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      };\r\n\r\n      setLoading(true);\r\n\r\n      const { data } = await axios.get(`/api/message/${user._id}`, config);\r\n\r\n      setMessages(data);\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n\r\n      setLoading(false);\r\n      toast({\r\n        title: \"Error Occured!\",\r\n        description: \"Failed to Load the Messages\",\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n    }\r\n  }, [toast, user]);\r\n\r\n  useEffect(() => {\r\n    fetchMessages();\r\n  }, [fetchMessages]);\r\n\r\n  useEffect(() => {\r\n    if (selectedChatOption === \"Coach\") {\r\n      setSender(user.physicalCoach);\r\n    } else if (selectedChatOption === \"WSF\" && user) {\r\n      setSender(user.wsf);\r\n    } else if (selectedChatOption === \"Provincial Coach\" && province) {\r\n      setSender(province.provincialCoach._id);\r\n    } else if (selectedChatOption === \"National Coach\" && national) {\r\n      setSender(national.nationalCoach._id);\r\n    }\r\n  }, [selectedChatOption, national, province, user, setSender]);\r\n\r\n  useEffect(() => {\r\n    if (selectedChat) {\r\n      setSender(selectedChat);\r\n    }\r\n  }, [selectedChat, setSender]);\r\n\r\n  const sendMessage = async (event) => {\r\n    if ((event && event.type === \"click\") || (event && event.key === \"Enter\")) {\r\n      setSending(true);\r\n      const userId = user._id;\r\n  \r\n      if (!selectedChatOption && !rank) {\r\n        toast({\r\n          title: \"Select a recipient\",\r\n          description: \"Please choose whom you want to chat with.\",\r\n          status: \"info\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n          position: \"bottom\",\r\n        });\r\n        setSending(false);\r\n        return;\r\n      }\r\n  \r\n      if (rank && !selectedChat && userId !== adminId) {\r\n        toast({\r\n          title: \"Select a recipient!\",\r\n          description: \"Please choose whom you want to reply to...\",\r\n          status: \"info\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n          position: \"bottom\",\r\n        });\r\n        setSending(false);\r\n        return;\r\n      }\r\n  \r\n      try {\r\n        const config = {\r\n          headers: {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        };\r\n  \r\n        // Send message to backend\r\n        const { data } = await axios.post(\r\n          \"/api/message\",\r\n          { sender: sender, content: newMessage, userId },\r\n          config\r\n        );\r\n  \r\n        // Update messages state based on sender\r\n        if (userId === adminId) {\r\n          // If admin, construct the new message object\r\n          const newMessageObj = {\r\n            content: newMessage.trim(),\r\n            createdAt: new Date(),\r\n            recipient: { WSF: null, _id: '65c7549721abc4f629ae5009', name: 'Broadcast', otherName: 'Ngatia', email: 'josephmpesa23@gmail.com' },\r\n            sender: { _id: '6693a995f6295b8bd90d9301', name: 'j', otherName: 'e', email: 'almanobe2@gmail.com' },\r\n            updatedAt: \"2024-07-01T16:26:45.964Z\",\r\n            __v: 0,\r\n            _id: \"6682d8c501209935692efb9e\"\r\n          };\r\n  \r\n          // Update messages state with the new message object\r\n          setMessages(prevMessages => [...prevMessages, newMessageObj]);\r\n        } else {\r\n          // If regular user, update messages state with the response data\r\n          setMessages(prevMessages => [...prevMessages, data]);\r\n          socket.emit(\"new message\", data);\r\n        }\r\n  \r\n        // Clear input and reset sending state\r\n        setSending(false);\r\n        setNewMessage(\"\");\r\n      } catch (error) {\r\n        console.error(\"Failed to send message:\", error);\r\n        setSending(false);\r\n        toast({\r\n          title: \"Failed to send the Message\",\r\n          description: \"Please try again after some time\",\r\n          status: \"error\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n          position: \"bottom\",\r\n        });\r\n      }\r\n    }\r\n  };  \r\n  \r\n  const handleChatClose = () => {\r\n    onClose();\r\n  };\r\n  return (\r\n    <Box\r\n      display={\"flex\"}\r\n      flexDirection={\"column\"}\r\n      position=\"fixed\"\r\n      bottom=\"0\"\r\n      right=\"1\"\r\n      height={\"90vh\"}\r\n      width={{base: \"100%\", md: \"60%\"}}\r\n      borderRadius={4}\r\n      boxShadow=\"dark-lg\"\r\n      p=\"2\"\r\n      rounded=\"md\"\r\n      bg=\"white\"\r\n      zIndex={11}\r\n    >\r\n      <Button p={2} onClick={handleChatClose} border={\"none\"}>\r\n        X\r\n      </Button>\r\n      <Box\r\n        p={2}\r\n        top=\"0\"\r\n        left=\"0\"\r\n        height=\"90%\"\r\n        display=\"flex\"\r\n        flexDir=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems={\"center\"}\r\n        width={\"100%\"}\r\n        background={\"whitesmoke\"}\r\n        \r\n      >\r\n        {!selectedChatOption && !rank && (\r\n          <Box display={\"flex\"} flexDir={\"column\"} bg=\"transparent\">\r\n            <Text>Select whom you want to chat with:</Text>\r\n            {chatOptions.map((option) => (\r\n              <Button\r\n                key={option}\r\n                bg=\"transparent\"\r\n                onClick={() => setSelectedChatOption(option)}\r\n                border={\"none\"}\r\n                p={'2'}\r\n              >\r\n                {option}\r\n              </Button>\r\n            ))}\r\n          </Box>\r\n        )}\r\n        {loading ? (\r\n          <Spinner speed='0.65s' size={\"xl\"} />\r\n        ) : (\r\n         <ScrollableChat messages={messages} />\r\n        )}\r\n        <Box position=\"absolute\" bottom={0} width=\"100%\">\r\n          {rank && (\r\n            <Box\r\n              display={\"flex\"}\r\n              justifyContent={\"center\"}\r\n              alignItems={\"center\"}\r\n              width={\"100%\"}\r\n            >\r\n              Replying to {selectedChat ? send : \"(select a message please)\"}\r\n              {selectedChat && (\r\n                <Button\r\n                  onClick={() => {\r\n                    setSelectedChat(null);\r\n                    setSend(null);\r\n                  }}\r\n                  background={\"transparent\"}\r\n                  textColor={\"red\"}\r\n                  border={\"none\"}\r\n                >\r\n                  X\r\n                </Button>\r\n              )}\r\n            </Box>\r\n          )}\r\n\r\n          {selectedChatOption && (\r\n            <Box\r\n              display={\"flex\"}\r\n              justifyContent={\"center\"}\r\n              alignItems={\"center\"}\r\n              width={\"100%\"}\r\n            >\r\n              Chatting with {selectedChatOption}\r\n              <Button\r\n                onClick={() => setSelectedChatOption(null)}\r\n                background={\"transparent\"}\r\n                textColor={\"red\"}\r\n                border={\"none\"}\r\n              >\r\n                X\r\n              </Button>\r\n            </Box>\r\n          )}\r\n\r\n          <Box\r\n            display={\"flex\"}\r\n            justifyContent={\"center\"}\r\n            alignItems={\"center\"}\r\n            width={\"100%\"}\r\n            background={\"white\"}\r\n            p={2}\r\n          >\r\n            <Input\r\n              placeholder=\"Type your message...\"\r\n              value={newMessage}\r\n              onChange={(e) => setNewMessage(e.target.value)}\r\n            />\r\n            <IconButton isLoading={sending} border={\"none\"} onClick={(event) => sendMessage(event)} p={0} m={1}>\r\n            <IoIosSend/>\r\n            </IconButton>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FloatingChat;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport ErrorBoundary from \"../components/ErrorBoundary\";\r\nimport { Box, IconButton, useToast } from \"@chakra-ui/react\";\r\nimport UpperNav from \"../miscellenious/upperNav\";\r\nimport Progress from \"../miscellenious/Progress\";\r\nimport MyPrograms from \"../miscellenious/Myprograms\";\r\nimport FloatingChat from \"../miscellenious/FloatingChat\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ChatState } from \"../components/Context/ChatProvider\";\r\nimport { useConnectSocket } from \"../components/config/chatlogics\";\r\nimport axiosInstance from \"../components/config/axios\";\r\nimport { MdOutlineMarkUnreadChatAlt } from \"react-icons/md\";\r\n//twillio code: S8ZVS4F9BYTUYWM47439RPNR\r\n\r\nconst Dashboard = ({ courses }) => {\r\n  const [chatOpen, setChatOpen] = useState(false);\r\n  const {\r\n    user,\r\n    setUser,\r\n    setClub,\r\n    setMessages,\r\n    notification,\r\n    setNotification,\r\n    setNational,\r\n    setProvince,\r\n  } = ChatState();\r\n  const navigate = useNavigate();\r\n  const [isHovered, setHovered] = useState(false);\r\n  const toast = useToast();\r\n  const socket = useConnectSocket(user);\r\n  const [isSocketConnected, setIsSocketConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      setIsSocketConnected(socket.connected);\r\n\r\n      socket.on('connect', () => {\r\n        setIsSocketConnected(true);\r\n      });\r\n\r\n      socket.on('disconnect', () => {\r\n        setIsSocketConnected(false);\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  const requestClub = useCallback(async () => {\r\n    if (!user?.coach) {\r\n      return;\r\n    }\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    };\r\n\r\n    try {\r\n      const response = await axiosInstance.get(`/api/clubs/${user.coach}`, config);\r\n      setClub(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching Club:\", error);\r\n    }\r\n  }, [user]);\r\n\r\n  // Use another useEffect to call requestClub when user is set\r\n  useEffect(() => {\r\n    if (user) {\r\n      requestClub();\r\n    }\r\n  }, [user, requestClub]);\r\n\r\n  useEffect(() => {\r\n\r\n    if (isSocketConnected) {\r\n    const showNotification = (title, options) => {\r\n      if (Notification.permission === \"granted\") {\r\n        new Notification(title, options);\r\n        const audio = new Audio(\r\n          \"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3\"\r\n        );\r\n        audio.addEventListener(\"error\", (error) => {\r\n          console.error(\"Audio playback error:\", error);\r\n        });\r\n\r\n        audio.play().catch((error) => {\r\n          console.error(\"Audio playback error:\", error);\r\n        });\r\n      } else if (Notification.permission !== \"denied\") {\r\n        Notification.requestPermission().then((permission) => {\r\n          if (permission === \"granted\") {\r\n            new Notification(title, options);\r\n            const audio = new Audio(\r\n              \"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3\"\r\n            );\r\n            audio.addEventListener(\"error\", (error) => {\r\n              console.error(\"Audio playback error:\", error);\r\n            });\r\n\r\n            audio.play().catch((error) => {\r\n              console.error(\"Audio playback error:\", error);\r\n            });\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleMessageReceived = (newMessageReceived) => {\r\n      setNotification([newMessageReceived, ...notification]);\r\n      showNotification(\r\n        \"New Message\",\r\n        {\r\n          body: `New message from ${newMessageReceived.sender.name}`,\r\n          icon: `${newMessageReceived.sender.pic}`,\r\n        },\r\n        () => {\r\n          navigate(\"/dashboard\");\r\n        }\r\n      );\r\n      setMessages((prevMessages) => [...prevMessages, newMessageReceived]);\r\n    };\r\n\r\n    const handleProvincialRequest = (request) => {\r\n      setUser((prevUser) => ({\r\n        ...prevUser,\r\n        provinceRequests: [\r\n          ...prevUser.provinceRequests,\r\n          request.provincialCoach,\r\n        ],\r\n      }));\r\n    };\r\n\r\n    const handleNationalRequest = (request) => {\r\n      setUser((prevUser) => ({\r\n        ...prevUser,\r\n        nationalRequests: [\r\n          ...prevUser.nationalRequests,\r\n          request.nationalCoach,\r\n        ],\r\n      }));\r\n    };\r\n\r\n    const handleCertificates = (certificates) => {\r\n      setUser((prev) => ({\r\n        ...prev,\r\n        certificates: certificates.certificates,\r\n        belt: certificates.belt,\r\n      }));\r\n    };\r\n    socket.on(\"provincial request\", handleProvincialRequest);\r\n    socket.on(\"national request\", handleNationalRequest);\r\n    socket.on(\"certificates\", handleCertificates);\r\n    socket.on(\"message received\", handleMessageReceived);\r\n\r\n    return () => {\r\n      socket.off(\"provincial request\", handleProvincialRequest);\r\n      socket.off(\"national request\", handleNationalRequest);\r\n      socket.off(\"certificates\", handleCertificates);\r\n      socket.off(\"message received\", handleMessageReceived);\r\n    };\r\n }\r\n  }, [socket, navigate, notification, isSocketConnected]);\r\n\r\n  // Combine requests and use a stable function reference\r\n  const fetchClubs = useCallback(async () => {\r\n    if (!user) {\r\n      navigate(\"/\");\r\n      return;\r\n    }\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    };\r\n\r\n    try {\r\n      const [provinceResponse, nationalResponse] = await Promise.all([\r\n        axiosInstance.get(`/api/province/officials/${user.country}/${user.provinces}`, config),\r\n        axiosInstance.get(`/api/national/officials/${user.country}/${user.provinces}`, config)\r\n      ]);\r\n\r\n      const provinceData = provinceResponse.data;\r\n      const nationalData = nationalResponse.data;\r\n\r\n      if (provinceData.length > 0) {\r\n        setProvince(provinceData);\r\n        console.log(provinceData);\r\n      }\r\n\r\n      if (nationalData.length > 0) {\r\n        setNational(nationalData);\r\n      }\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 401) {\r\n        toast({\r\n          title: \"Your session has expired\",\r\n          description: \"Logging out in 8 seconds\",\r\n          duration: 8000,\r\n          status: \"loading\",\r\n          position: \"bottom\",\r\n        });\r\n        console.log(error);\r\n\r\n        setTimeout(() => {\r\n          localStorage.removeItem(\"userInfo\");\r\n          navigate(\"/\");\r\n        }, 8000);\r\n      } else {\r\n        console.log(error);\r\n        toast({\r\n          title: \"An Error Occurred!\",\r\n          description: \"Try again after sometime.\",\r\n          status: \"error\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n        });\r\n      }\r\n    }\r\n  }, [user, navigate, toast]);\r\n\r\n  // Fetch data on mount and when user changes\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate(\"/dashboard\");\r\n      return;\r\n    }\r\n    fetchClubs();\r\n  }, [fetchClubs, navigate, user]);\r\n\r\n  return (\r\n    <ErrorBoundary fallback={<p style={{ color: \"white\" }}>Something went wrong</p>} userSelect=\"none\">\r\n      <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" flexDir=\"column\" width=\"100%\" background=\"white\" position=\"relative\">\r\n        <UpperNav />\r\n        <Box width=\"100%\" mt={20}>\r\n          <Progress userBelt={user?.belt} />\r\n        </Box>\r\n        <MyPrograms courses={courses} user={user} />\r\n        {chatOpen && <FloatingChat onClose={() => setChatOpen(false)} />}\r\n        <IconButton\r\n          display={chatOpen ? \"none\" : \"flex\"}\r\n          position=\"fixed\"\r\n          bottom=\"8%\"\r\n          right=\"10%\"\r\n          icon={\r\n            <MdOutlineMarkUnreadChatAlt\r\n              style={{\r\n                width: isHovered ? \"60px\" : \"40px\",\r\n                transition: \"width 0.3s ease-in-out\",\r\n                color: \"teal\",\r\n                fontSize: \"40px\",\r\n                border: 'none',\r\n              }}\r\n            />\r\n          }\r\n          backgroundColor=\"orange\"\r\n          p={\"2\"}\r\n          boxSize={\"auto\"}\r\n          border=\"none\"\r\n          _hover={{ backgroundColor: \"white\" }}\r\n          onClick={() => setChatOpen(true)}\r\n          onMouseEnter={() => setHovered(true)}\r\n          onMouseLeave={() => setHovered(false)}\r\n          borderRadius=\"full\"\r\n        />\r\n      </Box>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\nexport default Dashboard;\r\n"],"names":["ErrorBoundary","_React$Component","props","_this","_classCallCheck","_callSuper","state","hasError","_inherits","_createClass","key","value","error","info","console","this","_jsxs","Box","display","justifyContent","alignItems","background","width","height","children","flexDirection","_jsx","Text","fontSize","Link","color","href","React","axiosInstance","axios","create","interceptors","response","use","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","stop","_x","apply","arguments","Promise","reject","timestamp","messageTime","Date","timeDifference","seconds","Math","floor","minutes","hours","days","concat","toLocaleDateString","hour","minute","month","day","year","ProgressContainer","styled","div","_templateObject","_taggedTemplateLiteral","ProgressSlot","_templateObject2","progressAnimation","keyframes","_templateObject3","level","blinkingAnimation","_templateObject4","ProgressArrow","_templateObject5","_ref2","_ref3","userBelt","indexOf","map","belt","index","marginTop","fontWeight","base","md","textAlign","GiBlackBelt","style","p","Paycheck","course","toast","useToast","_ChatState","ChatState","user","setUser","_useState","useState","_useState2","_slicedToArray","show","setShow","_useState3","_useState4","phoneNumber","setPhoneNumber","_useDisclosure","useDisclosure","isOpen","onOpen","onClose","socket","useConnectSocket","token","useEffect","on","nothing","title","description","status","duration","position","update","_objectSpread","off","handleAfterPay","_callee2","config","_yield$axios$get","data","_context2","headers","Authorization","get","sent","t0","message","isClosable","_Fragment","Button","borderRadius","textColor","_hover","m","onClick","userCertificatesLength","certificates","length","courseIndex","id","Modal","size","isCentered","ModalOverlay","bg","backdropFilter","ModalContent","ModalHeader","fontFamily","px","rounded","ModalCloseButton","ModalBody","PayPalScriptProvider","options","clientId","PayPalButtons","createOrder","actions","order","purchase_units","amount","currency_code","toFixed","onApprove","_ref4","_callee3","_context3","capture","then","details","subscriptionID","_x2","_x3","onCancel","useColorModeValue","Image","src","alt","loading","Input","placeholder","type","onChange","e","target","minLength","maxLength","Divider","makePaymentMpesa","isDisabled","parseInt","colorScheme","ModalFooter","courses","handleDownload","url","a","document","createElement","download","click","progressLevels","flexDir","backgroundColor","Flex","border","textDecoration","_m$sender4","_m$sender5","_m$recipient","_m$sender6","_m$sender7","_m$sender8","_m$recipient2","_m$sender9","setSelectedChat","setSend","adminId","userId","_id","_m$sender","_m$sender2","_m$sender3","sender","name","textDecor","LuBadgeCheck","recipient","content","BsSendCheck","formatMessageTime","createdAt","messages","overflowY","minH","mb","isUserMessage","maxW","alignSelf","Message","newMessage","setNewMessage","chatOptions","setChatOptions","_useState5","_useState6","selectedChatOption","setSelectedChatOption","_useState7","_useState8","setSender","_useState9","_useState10","setLoading","_useState11","_useState12","rank","setRank","_useState13","_useState14","sending","setSending","selectedChat","send","setMessages","national","province","navigate","useNavigate","coach","provincialCoach","nationalCoach","undefined","provinces","prevOptions","filter","option","physicalCoach","fetchMessages","useCallback","log","wsf","sendMessage","event","_yield$axios$post","newMessageObj","post","trim","WSF","otherName","email","updatedAt","__v","prevMessages","_toConsumableArray","emit","bottom","right","boxShadow","zIndex","top","left","Spinner","speed","ScrollableChat","IconButton","isLoading","IoIosSend","chatOpen","setChatOpen","setClub","notification","setNotification","setNational","setProvince","isHovered","setHovered","isSocketConnected","setIsSocketConnected","connected","requestClub","handleMessageReceived","newMessageReceived","Notification","permission","audio","Audio","addEventListener","play","catch","requestPermission","showNotification","body","icon","pic","handleProvincialRequest","request","prevUser","provinceRequests","handleNationalRequest","nationalRequests","handleCertificates","fetchClubs","_yield$Promise$all","_yield$Promise$all2","provinceResponse","nationalResponse","provinceData","nationalData","all","country","setTimeout","localStorage","removeItem","fallback","userSelect","UpperNav","mt","Progress","MyPrograms","FloatingChat","MdOutlineMarkUnreadChatAlt","transition","boxSize","onMouseEnter","onMouseLeave"],"sourceRoot":""}