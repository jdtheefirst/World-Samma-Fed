"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[97],{20200:function(e,t){t.A=function(e){var t=new Date(e),n=new Date-t,r=Math.floor(n/1e3),o=Math.floor(r/60),a=Math.floor(o/60),s=Math.floor(a/24);if(r<60)return"Just now";if(o<60)return"".concat(o," minute").concat(1===o?"":"s"," ago");if(a<24)return"".concat(a," hour").concat(1===a?"":"s"," ago");if(1===s)return"Yesterday";if(s<7)return"".concat(s," day").concat(1===s?"":"s"," ago");return t.toLocaleDateString("en-US",{hour:"numeric",minute:"numeric",month:"long",day:"numeric",year:"numeric"})}},38097:function(e,t,n){n.r(t);var r=n(60436),o=n(90675),a=n(10467),s=n(5544),i=n(65043),c=n(73216),l=n(30502),u=n(22107),d=n(20972),h=n(28846),f=n(39081),x=n(44093),m=n(5371),p=n(29904),b=n(99032),g=n(29301),v=n(42703),j=n(25011),k=n(19077),w=n(60184),A=n(70686),y=n(79722),C=n(42837),S=n(20200),z=n(23156),_=n(70579);t.default=function(e){var t,n,E,D=e.user,I=(0,c.g)().clubId,R=(0,i.useState)(null),q=(0,s.A)(R,2),B=q[0],M=q[1],H=(0,i.useState)(""),N=(0,s.A)(H,2),U=N[0],P=N[1],W=(0,i.useState)([]),Y=(0,s.A)(W,2),$=Y[0],F=Y[1],J=(0,i.useState)(!1),K=(0,s.A)(J,2),L=K[0],T=K[1],G=(0,c.Zp)(),O=(0,l.d)(),Z=(0,i.useCallback)((0,a.A)((0,o.A)().mark((function e(){var t,n,r;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&I){e.next=3;break}return G("/dashboard"),e.abrupt("return");case 3:return T(!0),e.prev=4,t={headers:{Authorization:"Bearer ".concat(D.token)}},e.next=8,y.A.get("/api/clubs/".concat(I),t);case 8:n=e.sent,r=n.data,M(r),T(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),T(!1),console.error("Error fetching Club:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,14]])}))),[null===D||void 0===D?void 0:D.token,M,I]),Q=(0,i.useCallback)((0,a.A)((0,o.A)().mark((function e(){var t,n,r,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return G("/dashboard"),e.abrupt("return");case 3:return T(!0),e.prev=4,t=D._id,n={headers:{Authorization:"Bearer ".concat(D.token)}},e.next=9,y.A.get("/api/clubs/broadcast/".concat(I,"/").concat(t),n);case 9:r=e.sent,a=r.data,F(a),P(""),T(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error("Error fetching BroadcastMessages:",e.t0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,16]])}))),[D,null===D||void 0===D?void 0:D.token,I,P]);(0,i.useEffect)((function(){D&&(Z(),Q())}),[D,Z,Q]);var V=function(){var e=(0,a.A)((0,o.A)().mark((function e(){var t,n,r,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&I){e.next=3;break}return G("/dashboard"),e.abrupt("return");case 3:return e.prev=3,t=D._id,n={headers:{Authorization:"Bearer ".concat(D.token)}},e.next=8,y.A.get("/api/clubs/follow/".concat(I,"/").concat(t),n);case 8:r=e.sent,a=r.data,M(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error fetching Club:",e.t0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,a.A)((0,o.A)().mark((function e(){var t,n,r,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&I){e.next=3;break}return G("/dashboard"),e.abrupt("return");case 3:return e.prev=3,t=D._id,n={headers:{Authorization:"Bearer ".concat(D.token)}},e.next=8,y.A.get("/api/clubs/likes/".concat(I,"/").concat(t),n);case 8:r=e.sent,a=r.data,M(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error fetching Club:",e.t0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.A)((0,o.A)().mark((function e(){var t,n,a,s;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&I){e.next=3;break}return G("/clubs"),e.abrupt("return");case 3:if(U){e.next=6;break}return O({title:"Please include a message in the text area."}),e.abrupt("return");case 6:return e.prev=6,t=D._id,n={headers:{Authorization:"Bearer ".concat(null===D||void 0===D?void 0:D.token)}},e.next=11,y.A.post("/api/clubs/message/".concat(I,"/").concat(t),{broadcastMessage:U},n);case 11:a=e.sent,s=a.data,F((function(e){return[].concat((0,r.A)(e),[s])})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("Error fetching Club:",e.t0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,a.A)((0,o.A)().mark((function e(t){var n,r,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&I){e.next=3;break}return G("/dashboard"),e.abrupt("return");case 3:return e.prev=3,n={headers:{Authorization:"Bearer ".concat(D.token)}},e.next=7,y.A.get("/api/clubs/accept/".concat(I,"/").concat(t),n);case 7:r=e.sent,a=r.data,M(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Error accepting request:",e.t0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,a.A)((0,o.A)().mark((function e(){var t,n,r,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&I){e.next=3;break}return G("/dashboard"),e.abrupt("return");case 3:if(null===B||void 0===B||!B.membersRequests.some((function(e){return e._id===(null===D||void 0===D?void 0:D._id)}))){e.next=6;break}return O({title:"Request to join already sent.",description:"Please wait for Coach to reply."}),e.abrupt("return");case 6:return e.prev=6,t=D._id,n={headers:{Authorization:"Bearer ".concat(D.token)}},e.next=11,y.A.get("/api/clubs/join/".concat(I,"/").concat(t),n);case 11:r=e.sent,a=r.data,M(a),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("Error accepting join request:",e.t0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"start",alignItems:"center",width:"100%",background:"whitesmoke",minH:"100vh",overflow:"auto",children:[(0,_.jsx)(C.A,{}),(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",width:"100%",mt:20,background:"whitesmoke",children:[(0,_.jsx)(d._,{src:"https://res.cloudinary.com/dsdlgmgwi/image/upload/v1713518908/Samma_pkmq5v.png",alt:"Background",top:0,borderRadius:"20",width:"100%"}),(0,_.jsxs)(u.a,{display:"flex",top:10,left:{base:"0",md:"30%"},textAlign:"center",width:"100%",p:4,children:[(0,_.jsx)(d._,{src:null===B||void 0===B?void 0:B.coach.pic,marginTop:-10,alt:"*Coach profile pic",borderRadius:"full",boxSize:{base:"100px",md:"200px"},border:"4px solid white"}),(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",textAlign:"start",boxShadow:"base",width:{base:"100%",md:"50%"},p:"4",rounded:"md",fontSize:"small",bg:"whitesmoke",children:[" ",(0,_.jsx)(h.D,{as:"h2",size:"sm",textAlign:"center",children:B&&B.name}),(0,_.jsxs)(f.E,{fontSize:"sm",fontWeight:500,bg:(0,x.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",margin:1,children:["Club Status (*",B&&B.registered?"Registered":"Not registered",")"]}),(0,_.jsxs)(f.E,{children:["Coach Name: ",(0,_.jsx)("strong",{children:null===B||void 0===B?void 0:B.coach.name})]}),(0,_.jsxs)(u.a,{display:"flex",children:["Coach Highest Rank: ",(0,_.jsxs)("strong",{children:["\xa0",null===B||void 0===B?void 0:B.coach.belt]}),(0,_.jsx)(z.wO6,{style:{color:"red",padding:"2",fontSize:"22px"}})]}),(0,_.jsxs)(f.E,{children:["Coach Code : ",(0,_.jsx)("strong",{children:null===B||void 0===B?void 0:B.coach.admission})]}),(0,_.jsxs)(f.E,{children:["Club Unique Identifier: ",(0,_.jsx)("strong",{children:null===B||void 0===B?void 0:B.code})]})]})]})]}),(0,_.jsx)(m.s,{justifyContent:"center",alignItems:"center",spacing:4,width:"100%",background:"whitesmoke",children:L&&!B?(0,_.jsxs)(p.B,{width:"100%",p:"6",children:[(0,_.jsx)(b.E,{height:"20px"}),(0,_.jsx)(b.E,{height:"20px"}),(0,_.jsx)(b.E,{height:"20px"})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"space-between",alignItems:"center",p:0,m:1,children:[(0,_.jsx)(g.$,{colorScheme:"teal",size:"sm",fontSize:"small",onClick:V,children:B&&null!==(t=B.followers)&&void 0!==t&&t.find((function(e){return e===(null===D||void 0===D?void 0:D._id)}))?"Unfollow":"Follow"}),(0,_.jsx)(f.E,{fontSize:"small",children:B&&(null===(n=B.followers)||void 0===n?void 0:n.length)})]}),(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",fontSize:"small",p:0,m:1,children:[(0,_.jsx)(v.K,{icon:(0,_.jsx)(j.I,{as:w.Mbv}),colorScheme:B&&B.likes.some((function(e){return e===(null===D||void 0===D?void 0:D._id)}))?"green":"red",size:"sm",onClick:X}),B&&(null===(E=B.likes)||void 0===E?void 0:E.length)]}),(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",fontSize:"small",p:0,m:1,children:[(0,_.jsx)(v.K,{icon:(0,_.jsx)(j.I,{as:A.yGE}),colorScheme:B&&B.clubRequests.some((function(e){return e===(null===D||void 0===D?void 0:D._id)}))?"green":"blue",size:"sm",m:1,isDisabled:B&&(B.members.some((function(e){return e===(null===D||void 0===D?void 0:D._id)}))||B.coach._id===D._id),onClick:ne}),(0,_.jsx)(f.E,{textAlign:"center",fontSize:"small",mt:-1,children:null!==B&&void 0!==B&&B.membersRequests.some((function(e){return e._id===(null===D||void 0===D?void 0:D._id)}))?"Sent":"Join"})]})]})}),(0,_.jsx)(u.a,{display:"flex",width:"100%",flexDir:"column",justifyContent:"center",alignItems:"center",children:(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",width:{base:"100%",md:"60%"},borderColor:"#d142f5",overflow:"auto",mt:2,p:"4",children:[(0,_.jsx)(h.D,{as:"h3",size:"sm",mb:2,children:"Broadcast Board"}),(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflowY:"auto",minH:"150px",maxH:"300px",borderRadius:20,width:"100%",overflow:"auto",border:"2px solid grey",fontSize:"small",p:"6",rounded:"md",children:[$&&0===$.length&&(0,_.jsx)(f.E,{textAlign:"center",children:" No message here."}),$&&$.map((function(e){return(0,_.jsxs)(u.a,{background:"#92e0a5",textAlign:"center",fontWeight:"bold",fontStyle:"italic",width:{base:"90%",md:"70%"},borderRadius:20,m:2,p:1,children:[(0,_.jsx)(f.E,{fontSize:"small",textDecor:"underline",textColor:"#aa33b0",children:(0,S.A)(e.createdAt)}),e.content]},e._id)}))]}),B&&D&&B.coach._id===D._id&&(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",overflow:"auto",children:[(0,_.jsxs)(u.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflowY:"auto",borderRadius:20,height:"150px",width:"100%",p:2,children:[(0,_.jsx)(h.D,{as:"h3",size:"sm",m:2,children:"Number of Requests received"}),B&&0===B.membersRequests.length&&(0,_.jsxs)(f.E,{textAlign:"center",fontSize:"small",children:[" ","All requests have received responses."]}),B&&B.membersRequests.map((function(e,t){return(0,_.jsxs)(g.$,{fontSize:"small",fontWeight:"bold",onClick:function(){return te(e._id)},width:"90%",m:1,children:[t+1,". Accept ",e.name,", Adm:"," ",e.admission," \u2714\ufe0f"]})}))]}),(0,_.jsx)(k.T,{width:{base:"80%",md:"60%"},placeholder:"Leave a message for club members...",value:U,onChange:function(e){return P(e.target.value)}}),(0,_.jsx)(g.$,{colorScheme:"blue",size:"sm",mt:2,width:"30%",onClick:ee,children:"Post Message"})]})]})})]})}}}]);
//# sourceMappingURL=97.64542659.chunk.js.map