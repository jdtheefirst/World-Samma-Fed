"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[866],{59866:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(90675),i=t(10467),a=t(5544),o=t(65043),s=t(73216),c=t(30502),l=t(22107),d=t(39081),u=t(76659),h=t(29301),p=t(56818),v=t(33021),x=t(79722),f=t(38028),g=t(93461),m=t(24776),b=t(22111),j=t(45503),A=t(3952),y=t(85522),C=t(44093),k=t(70579),w=function(){var e=(0,o.useState)([]),n=(0,a.A)(e,2),t=n[0],c=n[1],l=(0,p.a)().user,d=(0,o.useState)(),u=(0,a.A)(d,2),h=u[0],v=u[1],w=(0,o.useState)(""),S=(0,a.A)(w,2),E=S[0],I=S[1],z=(0,o.useState)(""),R=(0,a.A)(z,2),q=R[0],D=R[1],_=(0,o.useState)(""),B=(0,a.A)(_,2),J=B[0],M=B[1],W=(0,s.Zp)(),$=function(){var e=(0,i.A)((0,r.A)().mark((function e(n){var t,i,a,o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),E&&J&&q&&l){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(l.token)}},i={chairperson:E,secretary:J,viceChair:q},e.next=8,x.A.post("/api/province/register",i,t);case 8:a=e.sent,o=a.data,console.log(o),v(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.A)((0,r.A)().mark((function e(n){var t,i,a,o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),n&&l){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t={headers:{Authorization:"Bearer ".concat(l.token)}},i={country:l.country,province:l.provinces},e.next=8,x.A.get("/api/province/".concat(n),i,t);case 8:a=e.sent,o=a.data,console.log(o),v(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(n){return e.apply(this,arguments)}}(),P=(0,o.useCallback)((0,i.A)((0,r.A)().mark((function e(){var n,t,i,a,o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return W("/dashboard"),e.abrupt("return");case 3:return n={headers:{Authorization:"Bearer ".concat(l.token)}},e.prev=4,e.next=7,x.A.get("/api/province/my/province",n);case 7:t=e.sent,i=t.data,v(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:return e.prev=15,e.next=18,x.A.get("/api/province/get/coaches",n);case 18:a=e.sent,o=a.data,c(o),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(15),console.log(e.t1);case 26:case"end":return e.stop()}}),e,null,[[4,12],[15,23]])}))),[l,W,c,v]);return(0,o.useEffect)((function(){l&&P()}),[P,l]),(0,k.jsx)("form",{onSubmit:$,children:(0,k.jsxs)(j.T,{spacing:4,align:"stretch",width:"100%",boxShadow:"dark-lg",p:"6",rounded:"md",bg:"white",children:[" ",(0,k.jsxs)(A.E,{fontSize:"sm",fontWeight:500,bg:(0,C.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",children:["Status (*",h&&h.registered?"Registered \u2714\ufe0f":"Not registered",")"]}),(0,k.jsxs)(y.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",height:"200px",children:[(0,k.jsxs)(A.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",color:"cornflowerblue",children:["Send Requests to Coaches around ",null===l||void 0===l?void 0:l.provinces]}),0===t.length&&(0,k.jsx)(A.E,{textAlign:"center",children:"No clubs in this region yet."}),(0,k.jsxs)(y.az,{display:"flex",height:"200px",overflowY:"auto",width:"100%",boxShadow:"base",p:"6",rounded:"md",bg:"white",children:[" ",t.length>0&&t.map((function(e,n){return(0,k.jsxs)(A.E,{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",fontWeight:"bold",p:1,children:[e.coach.name," ",e.coach.admission,(0,k.jsx)(f.$,{onClick:function(){return N(null===e||void 0===e?void 0:e.coach._id)},borderRadius:20,background:"#A020F0",color:"white",_hover:{color:"black"},isDisabled:null===h||void 0===h?void 0:h.requests.includes(e.coach._id),children:null!==h&&void 0!==h&&h.requests.includes(e.coach._id)?"Request Sent":"Send Request"})]},e._id)}))]}),(0,k.jsxs)(g.MJ,{id:"approvals",isRequired:!0,children:[(0,k.jsx)(m.l,{children:"Required Approvals"}),null===h||void 0===h?void 0:h.approvals.length,"/20"]})]}),(0,k.jsxs)(g.MJ,{id:"chairman",children:[(0,k.jsx)(m.l,{children:"Chairperson"}),(0,k.jsx)(b.p,{type:"text",name:"chairman",value:E,onChange:function(e){return I(e.target.chairperson)},placeholder:"Input valid adm of the party",isInvalid:!(null!==h&&void 0!==h&&h.approvals.some((function(e){return e.admission===E})))})]}),(0,k.jsxs)(g.MJ,{id:"secretary",isRequired:!0,children:[(0,k.jsx)(m.l,{children:"Secretary"}),(0,k.jsx)(b.p,{type:"text",name:"secretary",value:J,placeholder:"Input valid adm of the party",isInvalid:!(null!==h&&void 0!==h&&h.approvals.some((function(e){return e.admission===J}))),onChange:function(e){return M(e.target.secretary)}})]}),(0,k.jsxs)(g.MJ,{id:"vice-chairman",isRequired:!0,children:[(0,k.jsx)(m.l,{children:"Vice Chairperson"}),(0,k.jsx)(b.p,{type:"text",name:"viceChairman",value:q,placeholder:"Input valid adm of the party",isInvalid:!(null!==h&&void 0!==h&&h.approvals.some((function(e){return e.admission===q}))),onChange:function(e){return D(e.target.viceChair)}})]}),(0,k.jsxs)(g.MJ,{id:"provincial-coach",children:[(0,k.jsx)(m.l,{children:"Provincial Coach"}),(0,k.jsx)(b.p,{type:"text",name:"provincialCoach",value:null===l||void 0===l?void 0:l.admission,isDisabled:!0})]}),(0,k.jsx)(f.$,{type:"submit",colorScheme:"blue",isDisabled:(null===h||void 0===h?void 0:h.approvals.length)<20,children:"Submit"})]})})},S=t(20200),E=t(39261),I=t(14628),z=t(25010),R=function(){var e,n,t,f=(0,p.a)(),g=f.user,m=f.province,b=(0,o.useState)(!1),j=(0,a.A)(b,2),A=j[0],y=j[1],C=(0,s.Zp)(),R=(0,E.x)(null===g||void 0===g?void 0:g.country),q=(0,o.useState)(void 0),D=(0,a.A)(q,2),_=D[0],B=D[1],J=(0,o.useState)(!1),M=(0,a.A)(J,2),W=M[0],$=M[1],N=(0,c.d)(),P=(0,o.useCallback)((0,i.A)((0,r.A)().mark((function e(){var n,t,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,n={headers:{Authorization:"Bearer ".concat(g.token)}},e.next=5,x.A.get("/api/donate/province",n);case 5:t=e.sent,i=t.data,B(i),y(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),y(!1),N({title:"An Error Occurred!",description:"Please try again later",status:"warning",isClosable:!0,position:"bottom"});case 15:case"end":return e.stop()}}),e,null,[[1,11]])}))),[g,N]);(0,o.useEffect)((function(){g?P():C("/dashboard")}),[P,C,g]);return(0,k.jsxs)(l.a,{display:"flex",flexDir:"column",alignItems:"center",justifyContent:"space-between",backgroundColor:"whitesmoke",overflowY:"auto",width:"100%",minH:"100vh",p:"6",children:[(0,k.jsx)(v.A,{}),(0,k.jsxs)(l.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",mt:20,children:[(0,k.jsxs)(d.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",p:3,children:["Country: ",null===g||void 0===g?void 0:g.country," ",R]}),(0,k.jsxs)(d.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",p:3,children:[null===g||void 0===g?void 0:g.provinces," Samma Association"]}),(0,k.jsx)(l.a,{textAlign:"center",children:A?(0,k.jsx)(u.y,{size:"sm"}):(0,k.jsxs)(d.E,{children:["Account: $",_&&_.length>0?_[0].fund:"0"]})}),(0,k.jsx)(I.A,{provincePage:!0}),(0,k.jsxs)(l.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",boxShadow:"base",p:4,rounded:"md",bg:"whitesmoke",fontStyle:"italic",width:"100%",children:["Officials: ",!m&&"Viable position",null!==m?(0,k.jsxs)(l.a,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",boxShadow:"2xl",p:"6",rounded:"md",bg:"white",fontStyle:"italic",children:[(0,k.jsxs)(d.E,{children:["Coach: ",null===m||void 0===m||null===(e=m.provincialCoach)||void 0===e?void 0:e.name," ",null===m||void 0===m||null===(n=m.provincialCoach)||void 0===n?void 0:n.otherName," ",null===m||void 0===m||null===(t=m.provincialCoach)||void 0===t?void 0:t.belt]}),(0,k.jsxs)(d.E,{children:["Chairperson: ",null===m||void 0===m?void 0:m.chairman," "]}),(0,k.jsxs)(d.E,{children:["Secretary: ",null===m||void 0===m?void 0:m.secretary," "]}),(0,k.jsxs)(d.E,{children:["viceChairperson: ",null===m||void 0===m?void 0:m.viceChairman," "]}),(0,k.jsxs)(d.E,{children:["Interim commencement: ",(0,S.A)(null===m||void 0===m?void 0:m.updatedAt)," "]})]}):(0,k.jsxs)(k.Fragment,{children:[" ",!W&&(0,k.jsx)(h.$,{bg:"purple",color:"white",_hover:{color:"black"},borderRadius:20,onClick:function(){"Black"!==g.belt?N({title:"Your highest rank is ".concat(g.belt),description:"Head of a provincial association must have attained at least black belt 1.",status:"info",isClosable:!0,duration:1e4}):$(!0)},border:"none",fontSize:"small",children:"Claim Interim Leadership"}),W&&(0,k.jsx)(w,{})]})]}),(0,k.jsx)(z.A,{})]})]})}}}]);
//# sourceMappingURL=866.781fae76.chunk.js.map